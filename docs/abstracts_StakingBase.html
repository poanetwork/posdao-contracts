<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>StakingBase Â· POSDAO Smart Contracts Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; StakingBase&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;eternal-storage_OwnedEternalStorage.html&quot;&gt;OwnedEternalStorage&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;interfaces_IStaking.html&quot;&gt;IStaking&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;The base contract for the StakingAuRa and StakingHBBFT contracts.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/posdao-contracts/blob/v0.1.0/contracts/abstracts/StakingBase.sol&quot; target=&quot;_blank&quot;&gt;contracts/abstracts/StakingBase.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Claimed&quot;&gt;Claimed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#StakeMoved&quot;&gt;StakeMoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Staked&quot;&gt;Staked&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#WithdrawalOrdered&quot;&gt;WithdrawalOrdered&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Withdrawn&quot;&gt;Withdrawn&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolActive&quot;&gt;_addPoolActive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolDelegator&quot;&gt;_addPoolDelegator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolDelegatorInactive&quot;&gt;_addPoolDelegatorInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolInactive&quot;&gt;_addPoolInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolToBeElected&quot;&gt;_addPoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolToBeRemoved&quot;&gt;_addPoolToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_deletePoolToBeElected&quot;&gt;_deletePoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_deletePoolToBeRemoved&quot;&gt;_deletePoolToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_getCurrentBlockNumber&quot;&gt;_getCurrentBlockNumber&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_getMaxCandidates&quot;&gt;_getMaxCandidates&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_initialize&quot;&gt;_initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_isPoolToBeElected&quot;&gt;_isPoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_isWithdrawAllowed&quot;&gt;_isWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePool&quot;&gt;_removePool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolDelegator&quot;&gt;_removePoolDelegator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolDelegatorInactive&quot;&gt;_removePoolDelegatorInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolInactive&quot;&gt;_removePoolInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setCandidateMinStake&quot;&gt;_setCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setDelegatorMinStake&quot;&gt;_setDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setLikelihood&quot;&gt;_setLikelihood&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderWithdrawEpoch&quot;&gt;_setOrderWithdrawEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderedWithdrawAmount&quot;&gt;_setOrderedWithdrawAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderedWithdrawAmountTotal&quot;&gt;_setOrderedWithdrawAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolDelegatorInactiveIndex&quot;&gt;_setPoolDelegatorInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolDelegatorIndex&quot;&gt;_setPoolDelegatorIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolInactiveIndex&quot;&gt;_setPoolInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolIndex&quot;&gt;_setPoolIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolToBeElectedIndex&quot;&gt;_setPoolToBeElectedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolToBeRemovedIndex&quot;&gt;_setPoolToBeRemovedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmount&quot;&gt;_setStakeAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmountByCurrentEpoch&quot;&gt;_setStakeAmountByCurrentEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmountTotal&quot;&gt;_setStakeAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_stake&quot;&gt;_stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_stake&quot;&gt;_stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_withdraw&quot;&gt;_withdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_withdrawCheckPool&quot;&gt;_withdrawCheckPool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#areStakeAndWithdrawAllowed&quot;&gt;areStakeAndWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#claimOrderedWithdraw&quot;&gt;claimOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#clearUnremovableValidator&quot;&gt;clearUnremovableValidator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#erc20Restricted&quot;&gt;erc20Restricted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#erc20TokenContract&quot;&gt;erc20TokenContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getCandidateMinStake&quot;&gt;getCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getDelegatorMinStake&quot;&gt;getDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPools&quot;&gt;getPools&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsInactive&quot;&gt;getPoolsInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsLikelihood&quot;&gt;getPoolsLikelihood&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsToBeElected&quot;&gt;getPoolsToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsToBeRemoved&quot;&gt;getPoolsToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#incrementStakingEpoch&quot;&gt;incrementStakingEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#isPoolActive&quot;&gt;isPoolActive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#maxWithdrawAllowed&quot;&gt;maxWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#maxWithdrawOrderAllowed&quot;&gt;maxWithdrawOrderAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#moveStake&quot;&gt;moveStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onTokenTransfer&quot;&gt;onTokenTransfer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyBlockRewardContract&quot;&gt;onlyBlockRewardContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderWithdraw&quot;&gt;orderWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderWithdrawEpoch&quot;&gt;orderWithdrawEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderedWithdrawAmount&quot;&gt;orderedWithdrawAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderedWithdrawAmountTotal&quot;&gt;orderedWithdrawAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegatorInactiveIndex&quot;&gt;poolDelegatorInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegatorIndex&quot;&gt;poolDelegatorIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegators&quot;&gt;poolDelegators&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolInactiveIndex&quot;&gt;poolInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolIndex&quot;&gt;poolIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolToBeElectedIndex&quot;&gt;poolToBeElectedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolToBeRemovedIndex&quot;&gt;poolToBeRemovedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#removeMyPool&quot;&gt;removeMyPool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#removePool&quot;&gt;removePool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setCandidateMinStake&quot;&gt;setCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setDelegatorMinStake&quot;&gt;setDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setErc20TokenContract&quot;&gt;setErc20TokenContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stake&quot;&gt;stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmount&quot;&gt;stakeAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountByCurrentEpoch&quot;&gt;stakeAmountByCurrentEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountMinusOrderedWithdraw&quot;&gt;stakeAmountMinusOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountTotal&quot;&gt;stakeAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountTotalMinusOrderedWithdraw&quot;&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeNative&quot;&gt;stakeNative&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakingEpoch&quot;&gt;stakingEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#validatorSetContract&quot;&gt;validatorSetContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#withdraw&quot;&gt;withdraw&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Claimed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Claimed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Claimed&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `claimOrderedWithdraw` function to signal the staker withdrew the specified amount of requested tokens/coins from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the claim was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The withdrawal amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;StakeMoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;StakeMoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;StakeMoved&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `moveStake` function to signal the staker moved the specified amount of stake from one pool to another during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` moved the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;toPoolStakingAddress&lt;/code&gt; - The destination pool where the `staker` moved the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker who moved the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the `amount` was moved.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The stake amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Staked&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Staked&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Staked&lt;/strong&gt;&lt;span&gt;(address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `stake` function to signal the staker placed a stake of the specified amount for the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;toPoolStakingAddress&lt;/code&gt; - The pool in which the `staker` placed the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that placed the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the stake was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The stake amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;WithdrawalOrdered&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;WithdrawalOrdered&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;WithdrawalOrdered&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, int256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `orderWithdraw` function to signal the staker ordered the withdrawal of the specified amount of their stake from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` ordered a withdrawal of the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that ordered the withdrawal of the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the order was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The ordered withdrawal amount. Can be either positive or negative. See the `orderWithdraw` function.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Withdrawn&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Withdrawn&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Withdrawn&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `withdraw` function to signal the staker withdrew the specified amount of a stake from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of staker that withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the withdrawal was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The withdrawal amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;gasPriceIsValid&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;gasPriceIsValid&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;gasPriceIsValid&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the transaction gas price is not zero.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyBlockRewardContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyBlockRewardContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyBlockRewardContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the caller is the BlockReward contract address (EternalStorageProxy proxy contract for BlockReward).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyValidatorSetContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyValidatorSetContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyValidatorSetContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the caller is the ValidatorSet contract address (EternalStorageProxy proxy contract for ValidatorSet).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolActive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolActive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolActive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, bool _toBeElected) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of active pools returned by the `getPools` getter. Used by the `stake` and `orderWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the array of active pools.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_toBeElected&lt;/code&gt; - The boolean flag which defines whether the specified address should be added simultaneously to the `poolsToBeElected` array. See the `getPoolsToBeElected` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolDelegator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolDelegator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolDelegator&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified address to the array of the current active delegators of the specified pool. Used by the `stake` and `orderWithdraw` functions. See the `poolDelegators` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolDelegatorInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolDelegatorInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolDelegatorInactive&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified address to the array of the current inactive delegators of the specified pool. Used by the `_removePoolDelegator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolInactive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_removePool` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the array of inactive pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolActive` function. See the `getPoolsToBeElected` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the `poolsToBeElected` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolToBeRemoved&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of pools returned by the `getPoolsToBeRemoved` getter. Used by withdrawal functions. See the `getPoolsToBeRemoved` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the `poolsToBeRemoved` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deletePoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deletePoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deletePoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Deletes the specified staking address from the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeRemoved` and `_removePool` functions. See the `getPoolsToBeElected` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool deleted from the `poolsToBeElected` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deletePoolToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deletePoolToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deletePoolToBeRemoved&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Deletes the specified staking address from the array of pools returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeElected` and `_removePool` functions. See the `getPoolsToBeRemoved` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool deleted from the `poolsToBeRemoved` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getCurrentBlockNumber&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getCurrentBlockNumber&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getCurrentBlockNumber&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current block number. Needed mostly for unit tests.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getMaxCandidates&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getMaxCandidates&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getMaxCandidates&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the max number of candidates (including validators). See the MAX_CANDIDATES constant. Needed mostly for unit tests.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_initialize&lt;/strong&gt;&lt;span&gt;(address _validatorSetContract, address[] _initialStakingAddresses, uint256 _delegatorMinStake, uint256 _candidateMinStake, bool _erc20Restricted) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes the network parameters. Used by the `initialize` function of a child contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_validatorSetContract&lt;/code&gt; - The address of the `ValidatorSet` contract.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_initialStakingAddresses&lt;/code&gt; - The array of initial validators&amp;#x27; staking addresses.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegatorMinStake&lt;/code&gt; - The minimum allowed amount of delegator stake in STAKE_UNITs.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_candidateMinStake&lt;/code&gt; - The minimum allowed amount of candidate/validator stake in STAKE_UNITs.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_erc20Restricted&lt;/code&gt; - Defines whether this staking contract restricts using ERC20/677 contract. If it&amp;#x27;s set to `true`, native staking coins are used instead of ERC staking tokens.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_isPoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_isPoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_isPoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool, uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Determines if the specified pool is in the `poolsToBeElected` array. See the `getPoolsToBeElected` getter. Used by the `_setLikelihood` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;`bool toBeElected` - The boolean flag indicating whether the `_stakingAddress` is in the `poolsToBeElected` array. `uint256 index` - The position of the item in the `poolsToBeElected` array if `toBeElected` is `true`.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_isWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_isWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_isWithdrawAllowed&lt;/strong&gt;&lt;span&gt;(address _miningAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns `true` if withdrawal from the pool of the specified validator is allowed at the moment. Used by all withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_miningAddress&lt;/code&gt; - The mining address of the validator&amp;#x27;s pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePool&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified staking address from the array of active pools returned by the `getPools` getter. Used by the `removePool` and withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool removed from the array of active pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolDelegator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolDelegator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolDelegator&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified address from the array of the current active delegators of the specified pool. Used by the withdrawal functions. See the `poolDelegators` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolDelegatorInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolDelegatorInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolDelegatorInactive&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified address from the array of the inactive delegators of the specified pool. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolInactive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified staking address from the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_addPoolActive` and `_removePool` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool removed from the array of inactive pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setCandidateMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Used by the `_initialize` and `setCandidateMinStake` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setDelegatorMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE). Used by the `_initialize` and `setDelegatorMinStake` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setLikelihood&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setLikelihood&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setLikelihood&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates (updates) the probability of being selected as a validator for the specified pool and updates the total sum of probability coefficients. See the `getPoolsLikelihood` getter. Used by the staking and withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The address of the pool for which the probability coefficient must be updated.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderWithdrawEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderWithdrawEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderWithdrawEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _stakingEpoch) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `orderWithdraw` function to allow the ordered amount to be claimed only in future staking epochs. See also the `orderWithdrawEpoch` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will occur.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address that ordered the withdrawal.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stakingEpoch&lt;/code&gt; - The number of the current staking epoch.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderedWithdrawAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderedWithdrawAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderedWithdrawAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address that ordered the withdrawal.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens ordered for withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderedWithdrawAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderedWithdrawAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderedWithdrawAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the total amount of staking tokens/coins ordered for withdrawal from the specified pool by all its stakers.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The total amount of staking tokens/coins ordered for withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolDelegatorInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolDelegatorInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolDelegatorInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the delegator&amp;#x27;s index in the `poolDelegatorsInactive` array. Used by the `_addPoolDelegatorInactive` and `_removePoolDelegatorInactive` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index of the delegator in the `poolDelegatorsInactive` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolDelegatorIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolDelegatorIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolDelegatorIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the delegator&amp;#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index of the delegator in the `poolDelegators` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsInactive` getter. Used by the `_addPoolInactive` and `_removePoolInactive` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPools` getter. Used by the `_addPoolActive` and `_removePool` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolToBeElectedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolToBeElectedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolToBeElectedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolToBeRemovedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolToBeRemovedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolToBeRemovedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Used by the `stake`, `withdraw`, and `claimOrderedWithdraw` functions. See the `stakeAmount` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmountByCurrentEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmountByCurrentEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmountByCurrentEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). See also the `stakeAmountByCurrentEpoch` getter. Used by the `_stake` and `_withdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the total amount of staking tokens/coins currently staked into the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The total amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_stake&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `stake` and `addPool` functions. See the `stake` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens/coins should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_stake&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `_stake` and `moveStake` functions. See the `stake` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens/coins should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_withdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `withdraw` and `moveStake` functions. See the `withdraw` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins should be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of the tokens/coins to be withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_withdrawCheckPool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_withdrawCheckPool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_withdrawCheckPool&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `_withdraw` and `claimOrderedWithdraw` functions. Contains a common logic for these functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins are withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;areStakeAndWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;areStakeAndWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;&lt;span&gt;abstract &lt;/span&gt;function &lt;strong&gt;areStakeAndWithdrawAllowed&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a boolean flag indicating whether the stake and withdraw operations are allowed at the moment.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;claimOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;claimOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;claimOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Withdraws the staking tokens/coins from the specified pool ordered during the previous staking epochs with the `orderWithdraw` function. The ordered amount can be retrieved by the `orderedWithdrawAmount` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the ordered tokens/coins are withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;clearUnremovableValidator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;clearUnremovableValidator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;clearUnremovableValidator&lt;/strong&gt;&lt;span&gt;(address _unremovableStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the `unremovable validator` to either the `poolsToBeElected` or the `poolsToBeRemoved` array depending on their own stake in their own pool when they become removable. This allows the `ValidatorSet._newValidatorSet` function to recognize the unremovable validator as a regular removable pool. Called by the `ValidatorSet.clearUnremovableValidator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_unremovableStakingAddress&lt;/code&gt; - The staking address of the unremovable validator.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;erc20Restricted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;erc20Restricted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;erc20Restricted&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a boolean flag indicating whether this contract restricts using ERC20/677 contract. If it returns `true`, native staking coins are used instead of ERC staking tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;erc20TokenContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;erc20TokenContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;erc20TokenContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the address of the ERC20/677 staking token contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getCandidateMinStake&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getDelegatorMinStake&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPools&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPools&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPools&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current active pools (the staking addresses of candidates and validators). The size of the array cannot exceed MAX_CANDIDATES. A pool can be added to this array with the `_addPoolActive` function which is called by the `stake` or `orderWithdraw` function. A pool is considered active if its address has at least the minimum stake and this stake is not ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsInactive&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current inactive pools (the staking addresses of former candidates). A pool can be added to this array with the `_addPoolInactive` function which is called by `_removePool`. A pool is considered inactive if it is banned for some reason, if its address has zero stake, or if its entire stake is ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsLikelihood&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsLikelihood&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsLikelihood&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (int256[], int256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of probability coefficients of being selected as a validator for each corresponding address in the `poolsToBeElected` array (see the `getPoolsToBeElected` getter) and a sum of these coefficients. Used by the `ValidatorSet._newValidatorSet` function when randomly selecting new validators at the last block of a staking epoch. A pool&amp;#x27;s coefficient is updated every time any staked amount is changed in this pool (see the `_setLikelihood` function).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;`int256[] likelihoods` - The array of the coefficients. The array length is always equal to the length of the `poolsToBeElected` array. `int256 sum` - The sum of the coefficients.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsToBeElected&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of pools (their staking addresses) which will participate in a new validator set selection process in the `ValidatorSet._newValidatorSet` function. This is an array of pools which will be considered as candidates when forming a new validator set (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsToBeRemoved&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of pools (their staking addresses) which will be removed by the `ValidatorSet._newValidatorSet` function from the active `pools` array (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions. A pool is added to this array when the pool&amp;#x27;s address withdraws all of its own staking tokens from the pool, inactivating the pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;incrementStakingEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;incrementStakingEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;incrementStakingEpoch&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Increments the serial number of the current staking epoch. Called by the `ValidatorSet._newValidatorSet` at the last block of the finished staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;isPoolActive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;isPoolActive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;isPoolActive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a flag indicating whether a specified address is in the `pools` array. See the `getPools` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;maxWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;maxWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;maxWithdrawAllowed&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the maximum amount which can be withdrawn from the specified pool by the specified staker at the moment. Used by the `withdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will be made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that is going to withdraw.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;maxWithdrawOrderAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;maxWithdrawOrderAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;maxWithdrawOrderAllowed&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the maximum amount which can be ordered to be withdrawn from the specified pool by the specified staker at the moment. Used by the `orderWithdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will be ordered.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that is going to order the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;moveStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;moveStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;moveStake&lt;/strong&gt;&lt;span&gt;(address _fromPoolStakingAddress, address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves staking tokens/coins from one pool to another. A staker calls this function when they want to move their tokens/coins from one pool to another without withdrawing their tokens/coins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_fromPoolStakingAddress&lt;/code&gt; - The staking address of the source pool.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the target pool.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins to be moved. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;onTokenTransfer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onTokenTransfer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;onTokenTransfer&lt;/strong&gt;&lt;span&gt;(address , uint256 , bytes ) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Prevents sending tokens directly to the `Staking` contract address by the `ERC677BridgeTokenRewardable.transferAndCall` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - bytes&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, int256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Orders a token/coin withdrawal from the staking address of the specified pool to the staker&amp;#x27;s address. The requested tokens/coins can be claimed after the current staking epoch is complete using the `claimOrderedWithdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount to be withdrawn. A positive value means the staker wants to either set or increase their withdrawal amount. A negative value means the staker wants to decrease a withdrawal amount that was previously set. The amount cannot exceed the value returned by the `maxWithdrawOrderAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderWithdrawEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderWithdrawEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderWithdrawEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `claimOrderedWithdraw` function to allow the ordered amount to be claimed only in future staking epochs.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will occur.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that ordered the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderedWithdrawAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderedWithdrawAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderedWithdrawAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that ordered the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderedWithdrawAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderedWithdrawAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderedWithdrawAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current total amount of staking tokens/coins ordered for withdrawal from the specified pool by all of its stakers.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegatorInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegatorInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegatorInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the delegator&amp;#x27;s index in the `poolDelegatorsInactive` array. Used by the `_removePoolDelegatorInactive` function. A delegator is considered inactive if they have withdrawn all their tokens from the specified pool or their entire stake is ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address for which the inactive delegator&amp;#x27;s index is returned.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegatorIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegatorIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegatorIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the delegator&amp;#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_removePoolDelegator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the delegator. Check if the delegator is in the array using the `poolDelegators` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegators&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegators&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegators&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current active delegators of the specified pool. A delegator is considered active if they have staked into the specified pool and their stake is not ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsInactive` getter. Used by the `_removePoolInactive` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPools` getter. Used by the `_removePool` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `isPoolActive` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolToBeElectedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolToBeElectedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolToBeElectedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsToBeElected` getter. Used by the `_deletePoolToBeElected` and `_isPoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `getPoolsToBeElected` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolToBeRemovedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolToBeRemovedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolToBeRemovedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_deletePoolToBeRemoved` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `getPoolsToBeRemoved` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removeMyPool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removeMyPool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removeMyPool&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the candidate&amp;#x27;s or validator&amp;#x27;s pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). When a candidate or validator wants to remove their pool, they should call this function from their staking address. A validator cannot remove their pool while they are an `unremovable validator`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removePool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removePool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removePool&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes a specified pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). Called by the `ValidatorSet._removeMaliciousValidator` or the `ValidatorSet._newValidatorSet` function when a pool must be removed by the algorithm.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool to be removed.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setCandidateMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Can only be called by the `owner`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setDelegatorMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of minimum delegator stake (DELEGATOR_MIN_STAKE). Can only be called by the `owner`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setErc20TokenContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setErc20TokenContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setErc20TokenContract&lt;/strong&gt;&lt;span&gt;(address _erc20TokenContract) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the address of the ERC20/ERC677 staking token contract. Can only be called by the `owner`. Cannot be called if there was at least one stake in native coins before.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_erc20TokenContract&lt;/code&gt; - The address of the contract.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stake&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves the specified amount of staking tokens from the staker&amp;#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Doesn&amp;#x27;t take into account the ordered amount to be withdrawn (use the `stakeAmountMinusOrderedWithdraw` instead).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountByCurrentEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountByCurrentEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountByCurrentEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). Used by the `stake`, `withdraw`, and `orderWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountMinusOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountMinusOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountMinusOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker taking into account the ordered amount to be withdrawn. See also the `stakeAmount` and `orderedWithdrawAmount`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the total amount of staking tokens/coins currently staked into the specified pool. Doesn&amp;#x27;t take into account the ordered amounts to be withdrawn (use the `stakeAmountTotalMinusOrderedWithdraw` instead).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountTotalMinusOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the total amount of staking tokens/coins currently staked into the specified pool taking into account the ordered amounts to be withdrawn. See also the `stakeAmountTotal` and `orderedWithdrawAmountTotal` getters.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeNative&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeNative&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeNative&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Receives the staking coins from the staker&amp;#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the coins should be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakingEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakingEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakingEpoch&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the serial number of the current staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;validatorSetContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;validatorSetContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;validatorSetContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (IValidatorSet) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the address of the `ValidatorSet` contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;IValidatorSet&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdraw&lt;/strong&gt;&lt;span&gt;(address _fromPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves the specified amount of staking tokens/coins from the staking address of the specified pool to the staker&amp;#x27;s address. A staker calls this function when they want to withdraw their tokens/coins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_fromPoolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins should be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be withdrawn. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="StakingBase Â· POSDAO Smart Contracts Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://poanetwork.github.io/posdao-contracts/index.html"/><meta property="og:description" content="&lt;div class=&quot;contract-doc&quot;&gt;&lt;div class=&quot;contract&quot;&gt;&lt;h2 class=&quot;contract-header&quot;&gt;&lt;span class=&quot;contract-kind&quot;&gt;contract&lt;/span&gt; StakingBase&lt;/h2&gt;&lt;p class=&quot;base-contracts&quot;&gt;&lt;span&gt;is&lt;/span&gt; &lt;a href=&quot;eternal-storage_OwnedEternalStorage.html&quot;&gt;OwnedEternalStorage&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;&lt;a href=&quot;interfaces_IStaking.html&quot;&gt;IStaking&lt;/a&gt;&lt;/p&gt;&lt;p class=&quot;description&quot;&gt;The base contract for the StakingAuRa and StakingHBBFT contracts.&lt;/p&gt;&lt;div class=&quot;source&quot;&gt;Source: &lt;a href=&quot;https://github.com/poanetwork/posdao-contracts/blob/v0.1.0/contracts/abstracts/StakingBase.sol&quot; target=&quot;_blank&quot;&gt;contracts/abstracts/StakingBase.sol&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;index&quot;&gt;&lt;h2&gt;Index&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Claimed&quot;&gt;Claimed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#StakeMoved&quot;&gt;StakeMoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Staked&quot;&gt;Staked&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#WithdrawalOrdered&quot;&gt;WithdrawalOrdered&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#Withdrawn&quot;&gt;Withdrawn&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolActive&quot;&gt;_addPoolActive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolDelegator&quot;&gt;_addPoolDelegator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolDelegatorInactive&quot;&gt;_addPoolDelegatorInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolInactive&quot;&gt;_addPoolInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolToBeElected&quot;&gt;_addPoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_addPoolToBeRemoved&quot;&gt;_addPoolToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_deletePoolToBeElected&quot;&gt;_deletePoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_deletePoolToBeRemoved&quot;&gt;_deletePoolToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_getCurrentBlockNumber&quot;&gt;_getCurrentBlockNumber&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_getMaxCandidates&quot;&gt;_getMaxCandidates&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_initialize&quot;&gt;_initialize&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_isPoolToBeElected&quot;&gt;_isPoolToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_isWithdrawAllowed&quot;&gt;_isWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePool&quot;&gt;_removePool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolDelegator&quot;&gt;_removePoolDelegator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolDelegatorInactive&quot;&gt;_removePoolDelegatorInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_removePoolInactive&quot;&gt;_removePoolInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setCandidateMinStake&quot;&gt;_setCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setDelegatorMinStake&quot;&gt;_setDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setLikelihood&quot;&gt;_setLikelihood&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderWithdrawEpoch&quot;&gt;_setOrderWithdrawEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderedWithdrawAmount&quot;&gt;_setOrderedWithdrawAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setOrderedWithdrawAmountTotal&quot;&gt;_setOrderedWithdrawAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolDelegatorInactiveIndex&quot;&gt;_setPoolDelegatorInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolDelegatorIndex&quot;&gt;_setPoolDelegatorIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolInactiveIndex&quot;&gt;_setPoolInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolIndex&quot;&gt;_setPoolIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolToBeElectedIndex&quot;&gt;_setPoolToBeElectedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setPoolToBeRemovedIndex&quot;&gt;_setPoolToBeRemovedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmount&quot;&gt;_setStakeAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmountByCurrentEpoch&quot;&gt;_setStakeAmountByCurrentEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_setStakeAmountTotal&quot;&gt;_setStakeAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_stake&quot;&gt;_stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_stake&quot;&gt;_stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_withdraw&quot;&gt;_withdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#_withdrawCheckPool&quot;&gt;_withdrawCheckPool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#areStakeAndWithdrawAllowed&quot;&gt;areStakeAndWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#claimOrderedWithdraw&quot;&gt;claimOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#clearUnremovableValidator&quot;&gt;clearUnremovableValidator&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#erc20Restricted&quot;&gt;erc20Restricted&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#erc20TokenContract&quot;&gt;erc20TokenContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getCandidateMinStake&quot;&gt;getCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getDelegatorMinStake&quot;&gt;getDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPools&quot;&gt;getPools&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsInactive&quot;&gt;getPoolsInactive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsLikelihood&quot;&gt;getPoolsLikelihood&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsToBeElected&quot;&gt;getPoolsToBeElected&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#getPoolsToBeRemoved&quot;&gt;getPoolsToBeRemoved&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#incrementStakingEpoch&quot;&gt;incrementStakingEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#isPoolActive&quot;&gt;isPoolActive&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#maxWithdrawAllowed&quot;&gt;maxWithdrawAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#maxWithdrawOrderAllowed&quot;&gt;maxWithdrawOrderAllowed&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#moveStake&quot;&gt;moveStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onTokenTransfer&quot;&gt;onTokenTransfer&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyBlockRewardContract&quot;&gt;onlyBlockRewardContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderWithdraw&quot;&gt;orderWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderWithdrawEpoch&quot;&gt;orderWithdrawEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderedWithdrawAmount&quot;&gt;orderedWithdrawAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#orderedWithdrawAmountTotal&quot;&gt;orderedWithdrawAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegatorInactiveIndex&quot;&gt;poolDelegatorInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegatorIndex&quot;&gt;poolDelegatorIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolDelegators&quot;&gt;poolDelegators&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolInactiveIndex&quot;&gt;poolInactiveIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolIndex&quot;&gt;poolIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolToBeElectedIndex&quot;&gt;poolToBeElectedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#poolToBeRemovedIndex&quot;&gt;poolToBeRemovedIndex&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#removeMyPool&quot;&gt;removeMyPool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#removePool&quot;&gt;removePool&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setCandidateMinStake&quot;&gt;setCandidateMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setDelegatorMinStake&quot;&gt;setDelegatorMinStake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#setErc20TokenContract&quot;&gt;setErc20TokenContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stake&quot;&gt;stake&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmount&quot;&gt;stakeAmount&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountByCurrentEpoch&quot;&gt;stakeAmountByCurrentEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountMinusOrderedWithdraw&quot;&gt;stakeAmountMinusOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountTotal&quot;&gt;stakeAmountTotal&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeAmountTotalMinusOrderedWithdraw&quot;&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakeNative&quot;&gt;stakeNative&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#stakingEpoch&quot;&gt;stakingEpoch&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#validatorSetContract&quot;&gt;validatorSetContract&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;abstracts_StakingBase.html#withdraw&quot;&gt;withdraw&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;reference&quot;&gt;&lt;h2&gt;Reference&lt;/h2&gt;&lt;div class=&quot;events&quot;&gt;&lt;h3&gt;Events&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Claimed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Claimed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Claimed&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `claimOrderedWithdraw` function to signal the staker withdrew the specified amount of requested tokens/coins from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the claim was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The withdrawal amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;StakeMoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;StakeMoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;StakeMoved&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `moveStake` function to signal the staker moved the specified amount of stake from one pool to another during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` moved the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;toPoolStakingAddress&lt;/code&gt; - The destination pool where the `staker` moved the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker who moved the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the `amount` was moved.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The stake amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Staked&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Staked&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Staked&lt;/strong&gt;&lt;span&gt;(address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `stake` function to signal the staker placed a stake of the specified amount for the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;toPoolStakingAddress&lt;/code&gt; - The pool in which the `staker` placed the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that placed the stake.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the stake was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The stake amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;WithdrawalOrdered&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;WithdrawalOrdered&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;WithdrawalOrdered&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, int256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `orderWithdraw` function to signal the staker ordered the withdrawal of the specified amount of their stake from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` ordered a withdrawal of the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of the staker that ordered the withdrawal of the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the order was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The ordered withdrawal amount. Can be either positive or negative. See the `orderWithdraw` function.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item event&quot;&gt;&lt;span id=&quot;Withdrawn&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;Withdrawn&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;event &lt;strong&gt;Withdrawn&lt;/strong&gt;&lt;span&gt;(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Emitted by the `withdraw` function to signal the staker withdrew the specified amount of a stake from the specified pool during the specified staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;fromPoolStakingAddress&lt;/code&gt; - The pool from which the `staker` withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;staker&lt;/code&gt; - The address of staker that withdrew the `amount`.&lt;/div&gt;&lt;div&gt;&lt;code&gt;stakingEpoch&lt;/code&gt; - The serial number of the staking epoch during which the withdrawal was made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;amount&lt;/code&gt; - The withdrawal amount.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;modifiers&quot;&gt;&lt;h3&gt;Modifiers&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;gasPriceIsValid&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;gasPriceIsValid&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;gasPriceIsValid&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the transaction gas price is not zero.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyBlockRewardContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyBlockRewardContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyBlockRewardContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the caller is the BlockReward contract address (EternalStorageProxy proxy contract for BlockReward).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item modifier&quot;&gt;&lt;span id=&quot;onlyValidatorSetContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onlyValidatorSetContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;modifier &lt;strong&gt;onlyValidatorSetContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Ensures the caller is the ValidatorSet contract address (EternalStorageProxy proxy contract for ValidatorSet).&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class=&quot;functions&quot;&gt;&lt;h3&gt;Functions&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolActive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolActive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolActive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, bool _toBeElected) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of active pools returned by the `getPools` getter. Used by the `stake` and `orderWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the array of active pools.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_toBeElected&lt;/code&gt; - The boolean flag which defines whether the specified address should be added simultaneously to the `poolsToBeElected` array. See the `getPoolsToBeElected` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolDelegator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolDelegator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolDelegator&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified address to the array of the current active delegators of the specified pool. Used by the `stake` and `orderWithdraw` functions. See the `poolDelegators` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolDelegatorInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolDelegatorInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolDelegatorInactive&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified address to the array of the current inactive delegators of the specified pool. Used by the `_removePoolDelegator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolInactive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_removePool` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the array of inactive pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolActive` function. See the `getPoolsToBeElected` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the `poolsToBeElected` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_addPoolToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_addPoolToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_addPoolToBeRemoved&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the specified staking address to the array of pools returned by the `getPoolsToBeRemoved` getter. Used by withdrawal functions. See the `getPoolsToBeRemoved` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool added to the `poolsToBeRemoved` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deletePoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deletePoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deletePoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Deletes the specified staking address from the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeRemoved` and `_removePool` functions. See the `getPoolsToBeElected` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool deleted from the `poolsToBeElected` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_deletePoolToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_deletePoolToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_deletePoolToBeRemoved&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Deletes the specified staking address from the array of pools returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeElected` and `_removePool` functions. See the `getPoolsToBeRemoved` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool deleted from the `poolsToBeRemoved` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getCurrentBlockNumber&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getCurrentBlockNumber&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getCurrentBlockNumber&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current block number. Needed mostly for unit tests.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_getMaxCandidates&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_getMaxCandidates&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_getMaxCandidates&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the max number of candidates (including validators). See the MAX_CANDIDATES constant. Needed mostly for unit tests.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_initialize&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_initialize&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_initialize&lt;/strong&gt;&lt;span&gt;(address _validatorSetContract, address[] _initialStakingAddresses, uint256 _delegatorMinStake, uint256 _candidateMinStake, bool _erc20Restricted) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Initializes the network parameters. Used by the `initialize` function of a child contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_validatorSetContract&lt;/code&gt; - The address of the `ValidatorSet` contract.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_initialStakingAddresses&lt;/code&gt; - The array of initial validators&amp;#x27; staking addresses.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegatorMinStake&lt;/code&gt; - The minimum allowed amount of delegator stake in STAKE_UNITs.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_candidateMinStake&lt;/code&gt; - The minimum allowed amount of candidate/validator stake in STAKE_UNITs.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_erc20Restricted&lt;/code&gt; - Defines whether this staking contract restricts using ERC20/677 contract. If it&amp;#x27;s set to `true`, native staking coins are used instead of ERC staking tokens.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_isPoolToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_isPoolToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_isPoolToBeElected&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool, uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Determines if the specified pool is in the `poolsToBeElected` array. See the `getPoolsToBeElected` getter. Used by the `_setLikelihood` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;`bool toBeElected` - The boolean flag indicating whether the `_stakingAddress` is in the `poolsToBeElected` array. `uint256 index` - The position of the item in the `poolsToBeElected` array if `toBeElected` is `true`.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_isWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_isWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_isWithdrawAllowed&lt;/strong&gt;&lt;span&gt;(address _miningAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns `true` if withdrawal from the pool of the specified validator is allowed at the moment. Used by all withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_miningAddress&lt;/code&gt; - The mining address of the validator&amp;#x27;s pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePool&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified staking address from the array of active pools returned by the `getPools` getter. Used by the `removePool` and withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool removed from the array of active pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolDelegator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolDelegator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolDelegator&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified address from the array of the current active delegators of the specified pool. Used by the withdrawal functions. See the `poolDelegators` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolDelegatorInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolDelegatorInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolDelegatorInactive&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified address from the array of the inactive delegators of the specified pool. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_removePoolInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_removePoolInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_removePoolInactive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the specified staking address from the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_addPoolActive` and `_removePool` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool removed from the array of inactive pools.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setCandidateMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Used by the `_initialize` and `setCandidateMinStake` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setDelegatorMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE). Used by the `_initialize` and `setDelegatorMinStake` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setLikelihood&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setLikelihood&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setLikelihood&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Calculates (updates) the probability of being selected as a validator for the specified pool and updates the total sum of probability coefficients. See the `getPoolsLikelihood` getter. Used by the staking and withdrawal functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The address of the pool for which the probability coefficient must be updated.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderWithdrawEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderWithdrawEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderWithdrawEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _stakingEpoch) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `orderWithdraw` function to allow the ordered amount to be claimed only in future staking epochs. See also the `orderWithdrawEpoch` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will occur.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address that ordered the withdrawal.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_stakingEpoch&lt;/code&gt; - The number of the current staking epoch.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderedWithdrawAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderedWithdrawAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderedWithdrawAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address that ordered the withdrawal.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens ordered for withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setOrderedWithdrawAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setOrderedWithdrawAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setOrderedWithdrawAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the total amount of staking tokens/coins ordered for withdrawal from the specified pool by all its stakers.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The total amount of staking tokens/coins ordered for withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolDelegatorInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolDelegatorInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolDelegatorInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the delegator&amp;#x27;s index in the `poolDelegatorsInactive` array. Used by the `_addPoolDelegatorInactive` and `_removePoolDelegatorInactive` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index of the delegator in the `poolDelegatorsInactive` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolDelegatorIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolDelegatorIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolDelegatorIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the delegator&amp;#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index of the delegator in the `poolDelegators` array.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsInactive` getter. Used by the `_addPoolInactive` and `_removePoolInactive` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPools` getter. Used by the `_addPoolActive` and `_removePool` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolToBeElectedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolToBeElectedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolToBeElectedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setPoolToBeRemovedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setPoolToBeRemovedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setPoolToBeRemovedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress, uint256 _index) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_index&lt;/code&gt; - The index value.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Used by the `stake`, `withdraw`, and `claimOrderedWithdraw` functions. See the `stakeAmount` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmountByCurrentEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmountByCurrentEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmountByCurrentEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). See also the `stakeAmountByCurrentEpoch` getter. Used by the `_stake` and `_withdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_setStakeAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_setStakeAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_setStakeAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets the total amount of staking tokens/coins currently staked into the specified pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The total amount of staking tokens/coins.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_stake&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `stake` and `addPool` functions. See the `stake` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens/coins should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_stake&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `_stake` and `moveStake` functions. See the `stake` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens/coins should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_withdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker, uint256 _amount) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `withdraw` and `moveStake` functions. See the `withdraw` public function for more details.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins should be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of the tokens/coins to be withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;_withdrawCheckPool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;_withdrawCheckPool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;_withdrawCheckPool&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;internal &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;The internal function used by the `_withdraw` and `claimOrderedWithdraw` functions. Contains a common logic for these functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins are withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;areStakeAndWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;areStakeAndWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;&lt;span&gt;abstract &lt;/span&gt;function &lt;strong&gt;areStakeAndWithdrawAllowed&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a boolean flag indicating whether the stake and withdraw operations are allowed at the moment.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;claimOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;claimOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;claimOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Withdraws the staking tokens/coins from the specified pool ordered during the previous staking epochs with the `orderWithdraw` function. The ordered amount can be retrieved by the `orderedWithdrawAmount` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the ordered tokens/coins are withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;clearUnremovableValidator&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;clearUnremovableValidator&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;clearUnremovableValidator&lt;/strong&gt;&lt;span&gt;(address _unremovableStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Adds the `unremovable validator` to either the `poolsToBeElected` or the `poolsToBeRemoved` array depending on their own stake in their own pool when they become removable. This allows the `ValidatorSet._newValidatorSet` function to recognize the unremovable validator as a regular removable pool. Called by the `ValidatorSet.clearUnremovableValidator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_unremovableStakingAddress&lt;/code&gt; - The staking address of the unremovable validator.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;erc20Restricted&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;erc20Restricted&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;erc20Restricted&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a boolean flag indicating whether this contract restricts using ERC20/677 contract. If it returns `true`, native staking coins are used instead of ERC staking tokens.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;erc20TokenContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;erc20TokenContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;erc20TokenContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the address of the ERC20/677 staking token contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getCandidateMinStake&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getDelegatorMinStake&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPools&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPools&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPools&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current active pools (the staking addresses of candidates and validators). The size of the array cannot exceed MAX_CANDIDATES. A pool can be added to this array with the `_addPoolActive` function which is called by the `stake` or `orderWithdraw` function. A pool is considered active if its address has at least the minimum stake and this stake is not ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsInactive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsInactive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsInactive&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current inactive pools (the staking addresses of former candidates). A pool can be added to this array with the `_addPoolInactive` function which is called by `_removePool`. A pool is considered inactive if it is banned for some reason, if its address has zero stake, or if its entire stake is ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsLikelihood&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsLikelihood&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsLikelihood&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (int256[], int256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of probability coefficients of being selected as a validator for each corresponding address in the `poolsToBeElected` array (see the `getPoolsToBeElected` getter) and a sum of these coefficients. Used by the `ValidatorSet._newValidatorSet` function when randomly selecting new validators at the last block of a staking epoch. A pool&amp;#x27;s coefficient is updated every time any staked amount is changed in this pool (see the `_setLikelihood` function).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;`int256[] likelihoods` - The array of the coefficients. The array length is always equal to the length of the `poolsToBeElected` array. `int256 sum` - The sum of the coefficients.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsToBeElected&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsToBeElected&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsToBeElected&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of pools (their staking addresses) which will participate in a new validator set selection process in the `ValidatorSet._newValidatorSet` function. This is an array of pools which will be considered as candidates when forming a new validator set (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;getPoolsToBeRemoved&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;getPoolsToBeRemoved&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;getPoolsToBeRemoved&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the list of pools (their staking addresses) which will be removed by the `ValidatorSet._newValidatorSet` function from the active `pools` array (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions. A pool is added to this array when the pool&amp;#x27;s address withdraws all of its own staking tokens from the pool, inactivating the pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;incrementStakingEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;incrementStakingEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;incrementStakingEpoch&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Increments the serial number of the current staking epoch. Called by the `ValidatorSet._newValidatorSet` at the last block of the finished staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;isPoolActive&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;isPoolActive&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;isPoolActive&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns a flag indicating whether a specified address is in the `pools` array. See the `getPools` getter.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;maxWithdrawAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;maxWithdrawAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;maxWithdrawAllowed&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the maximum amount which can be withdrawn from the specified pool by the specified staker at the moment. Used by the `withdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will be made.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that is going to withdraw.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;maxWithdrawOrderAllowed&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;maxWithdrawOrderAllowed&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;maxWithdrawOrderAllowed&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the maximum amount which can be ordered to be withdrawn from the specified pool by the specified staker at the moment. Used by the `orderWithdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will be ordered.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that is going to order the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;moveStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;moveStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;moveStake&lt;/strong&gt;&lt;span&gt;(address _fromPoolStakingAddress, address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves staking tokens/coins from one pool to another. A staker calls this function when they want to move their tokens/coins from one pool to another without withdrawing their tokens/coins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_fromPoolStakingAddress&lt;/code&gt; - The staking address of the source pool.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the target pool.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of staking tokens/coins to be moved. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;onTokenTransfer&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;onTokenTransfer&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;onTokenTransfer&lt;/strong&gt;&lt;span&gt;(address , uint256 , bytes ) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;pure &lt;/span&gt;&lt;span&gt;returns  (bool) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Prevents sending tokens directly to the `Staking` contract address by the `ERC677BridgeTokenRewardable.transferAndCall` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - address&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - uint256&lt;/div&gt;&lt;div&gt;&lt;code&gt;&lt;/code&gt; - bytes&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;bool&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, int256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Orders a token/coin withdrawal from the staking address of the specified pool to the staker&amp;#x27;s address. The requested tokens/coins can be claimed after the current staking epoch is complete using the `claimOrderedWithdraw` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The staking address of the pool from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount to be withdrawn. A positive value means the staker wants to either set or increase their withdrawal amount. A negative value means the staker wants to decrease a withdrawal amount that was previously set. The amount cannot exceed the value returned by the `maxWithdrawOrderAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderWithdrawEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderWithdrawEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderWithdrawEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `claimOrderedWithdraw` function to allow the ordered amount to be claimed only in future staking epochs.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the withdrawal will occur.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that ordered the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderedWithdrawAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderedWithdrawAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderedWithdrawAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker address that ordered the withdrawal.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;orderedWithdrawAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;orderedWithdrawAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;orderedWithdrawAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the current total amount of staking tokens/coins ordered for withdrawal from the specified pool by all of its stakers.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address from which the amount will be withdrawn.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegatorInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegatorInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegatorInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the delegator&amp;#x27;s index in the `poolDelegatorsInactive` array. Used by the `_removePoolDelegatorInactive` function. A delegator is considered inactive if they have withdrawn all their tokens from the specified pool or their entire stake is ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address for which the inactive delegator&amp;#x27;s index is returned.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegatorIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegatorIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegatorIndex&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _delegator) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the delegator&amp;#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_removePoolDelegator` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_delegator&lt;/code&gt; - The delegator&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the delegator. Check if the delegator is in the array using the `poolDelegators` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolDelegators&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolDelegators&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolDelegators&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (address[]) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns an array of the current active delegators of the specified pool. A delegator is considered active if they have staked into the specified pool and their stake is not ordered to be withdrawn.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;address[]&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolInactiveIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolInactiveIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolInactiveIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsInactive` getter. Used by the `_removePoolInactive` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPools` getter. Used by the `_removePool` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `isPoolActive` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolToBeElectedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolToBeElectedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolToBeElectedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsToBeElected` getter. Used by the `_deletePoolToBeElected` and `_isPoolToBeElected` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `getPoolsToBeElected` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;poolToBeRemovedIndex&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;poolToBeRemovedIndex&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;poolToBeRemovedIndex&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the pool&amp;#x27;s index in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_deletePoolToBeRemoved` function.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;If the returned value is zero, it may mean the array doesn&amp;#x27;t contain the address. Check the address is in the array using the `getPoolsToBeRemoved` getter.&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removeMyPool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removeMyPool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removeMyPool&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes the candidate&amp;#x27;s or validator&amp;#x27;s pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). When a candidate or validator wants to remove their pool, they should call this function from their staking address. A validator cannot remove their pool while they are an `unremovable validator`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;removePool&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;removePool&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;removePool&lt;/strong&gt;&lt;span&gt;(address _stakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Removes a specified pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). Called by the `ValidatorSet._removeMaliciousValidator` or the `ValidatorSet._newValidatorSet` function when a pool must be removed by the algorithm.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#onlyValidatorSetContract&quot;&gt;onlyValidatorSetContract &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_stakingAddress&lt;/code&gt; - The staking address of the pool to be removed.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setCandidateMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setCandidateMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setCandidateMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Can only be called by the `owner`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setDelegatorMinStake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setDelegatorMinStake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setDelegatorMinStake&lt;/strong&gt;&lt;span&gt;(uint256 _minStake) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the limit of minimum delegator stake (DELEGATOR_MIN_STAKE). Can only be called by the `owner`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_minStake&lt;/code&gt; - The value of a new limit in STAKE_UNITs.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;setErc20TokenContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;setErc20TokenContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;setErc20TokenContract&lt;/strong&gt;&lt;span&gt;(address _erc20TokenContract) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Sets (updates) the address of the ERC20/ERC677 staking token contract. Can only be called by the `owner`. Cannot be called if there was at least one stake in native coins before.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;eternal-storage_OwnedEternalStorage.html#onlyOwner&quot;&gt;onlyOwner &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_erc20TokenContract&lt;/code&gt; - The address of the contract.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stake&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stake&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stake&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves the specified amount of staking tokens from the staker&amp;#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the tokens should be staked.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens to be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmount&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmount&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmount&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Doesn&amp;#x27;t take into account the ordered amount to be withdrawn (use the `stakeAmountMinusOrderedWithdraw` instead).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountByCurrentEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountByCurrentEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountByCurrentEpoch&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). Used by the `stake`, `withdraw`, and `orderWithdraw` functions.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountMinusOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountMinusOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountMinusOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress, address _staker) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker taking into account the ordered amount to be withdrawn. See also the `stakeAmount` and `orderedWithdrawAmount`.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_staker&lt;/code&gt; - The staker&amp;#x27;s address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountTotal&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountTotal&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountTotal&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the total amount of staking tokens/coins currently staked into the specified pool. Doesn&amp;#x27;t take into account the ordered amounts to be withdrawn (use the `stakeAmountTotalMinusOrderedWithdraw` instead).&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeAmountTotalMinusOrderedWithdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeAmountTotalMinusOrderedWithdraw&lt;/strong&gt;&lt;span&gt;(address _poolStakingAddress) &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the total amount of staking tokens/coins currently staked into the specified pool taking into account the ordered amounts to be withdrawn. See also the `stakeAmountTotal` and `orderedWithdrawAmountTotal` getters.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_poolStakingAddress&lt;/code&gt; - The pool staking address.&lt;/div&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakeNative&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakeNative&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakeNative&lt;/strong&gt;&lt;span&gt;(address _toPoolStakingAddress) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;span&gt;payable &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Receives the staking coins from the staker&amp;#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_toPoolStakingAddress&lt;/code&gt; - The staking address of the pool where the coins should be staked.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;stakingEpoch&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;stakingEpoch&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;stakingEpoch&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (uint256) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the serial number of the current staking epoch.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;uint256&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;validatorSetContract&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;validatorSetContract&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;validatorSetContract&lt;/strong&gt;&lt;span&gt;() &lt;/span&gt;&lt;span&gt;public &lt;/span&gt;&lt;span&gt;view &lt;/span&gt;&lt;span&gt;returns  (IValidatorSet) &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Returns the address of the `ValidatorSet` contract.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-return&quot;&gt;Returns:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;IValidatorSet&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class=&quot;item function&quot;&gt;&lt;span id=&quot;withdraw&quot; class=&quot;anchor-marker&quot;&gt;&lt;/span&gt;&lt;h4 class=&quot;name&quot;&gt;withdraw&lt;/h4&gt;&lt;div class=&quot;body&quot;&gt;&lt;code class=&quot;signature&quot;&gt;function &lt;strong&gt;withdraw&lt;/strong&gt;&lt;span&gt;(address _fromPoolStakingAddress, uint256 _amount) &lt;/span&gt;&lt;span&gt;external &lt;/span&gt;&lt;/code&gt;&lt;hr/&gt;&lt;div class=&quot;description&quot;&gt;&lt;p&gt;Moves the specified amount of staking tokens/coins from the staking address of the specified pool to the staker&amp;#x27;s address. A staker calls this function when they want to withdraw their tokens/coins.&lt;/p&gt;&lt;/div&gt;&lt;dl&gt;&lt;dt&gt;&lt;span class=&quot;label-modifiers&quot;&gt;Modifiers:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;a href=&quot;abstracts_StakingBase.html#gasPriceIsValid&quot;&gt;gasPriceIsValid &lt;/a&gt;&lt;/dd&gt;&lt;dt&gt;&lt;span class=&quot;label-parameters&quot;&gt;Parameters:&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;&lt;div&gt;&lt;code&gt;_fromPoolStakingAddress&lt;/code&gt; - The staking address of the pool from which the tokens/coins should be withdrawn.&lt;/div&gt;&lt;div&gt;&lt;code&gt;_amount&lt;/code&gt; - The amount of tokens/coins to be withdrawn. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.&lt;/div&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/posdao-contracts/undefined"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/posdao-contracts/css/main.css"/><script src="/posdao-contracts/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/posdao-contracts/"><h2 class="headerTitle">POSDAO Smart Contracts Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"></ul></nav></div></header></div></div><div class="navPusher singleRowMobileNav"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>âº</i><span>abstracts</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">abstracts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/abstracts_BlockRewardBase.html">BlockRewardBase</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/abstracts_RandomBase.html">RandomBase</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/posdao-contracts/docs/abstracts_StakingBase.html">StakingBase</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/abstracts_ValidatorSetBase.html">ValidatorSetBase</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">eternal-storage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/eternal-storage_EternalStorage.html">EternalStorage</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/eternal-storage_EternalStorageProxy.html">EternalStorageProxy</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/eternal-storage_OwnedEternalStorage.html">OwnedEternalStorage</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">root</h3><ul class=""><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/BlockRewardAuRa.html">BlockRewardAuRa</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/Certifier.html">Certifier</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/InitializerAuRa.html">InitializerAuRa</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/RandomAuRa.html">RandomAuRa</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/Registry.html">Registry</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/StakingAuRa.html">StakingAuRa</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/TxPermission.html">TxPermission</a></li><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/ValidatorSetAuRa.html">ValidatorSetAuRa</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle"> </h3><ul class=""><li class="navListItem"><a class="navItem" href="/posdao-contracts/docs/index.html">POSDAO Smart Contracts Docs</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">StakingBase</h1></header><article><div><span><div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> StakingBase</h2><p class="base-contracts"><span>is</span> <a href="eternal-storage_OwnedEternalStorage.html">OwnedEternalStorage</a><span>, </span><a href="interfaces_IStaking.html">IStaking</a></p><p class="description">The base contract for the StakingAuRa and StakingHBBFT contracts.</p><div class="source">Source: <a href="https://github.com/poanetwork/posdao-contracts/blob/v0.1.0/contracts/abstracts/StakingBase.sol" target="_blank">contracts/abstracts/StakingBase.sol</a></div></div><div class="index"><h2>Index</h2><ul><li><a href="abstracts_StakingBase.html#Claimed">Claimed</a></li><li><a href="abstracts_StakingBase.html#StakeMoved">StakeMoved</a></li><li><a href="abstracts_StakingBase.html#Staked">Staked</a></li><li><a href="abstracts_StakingBase.html#WithdrawalOrdered">WithdrawalOrdered</a></li><li><a href="abstracts_StakingBase.html#Withdrawn">Withdrawn</a></li><li><a href="abstracts_StakingBase.html#_addPoolActive">_addPoolActive</a></li><li><a href="abstracts_StakingBase.html#_addPoolDelegator">_addPoolDelegator</a></li><li><a href="abstracts_StakingBase.html#_addPoolDelegatorInactive">_addPoolDelegatorInactive</a></li><li><a href="abstracts_StakingBase.html#_addPoolInactive">_addPoolInactive</a></li><li><a href="abstracts_StakingBase.html#_addPoolToBeElected">_addPoolToBeElected</a></li><li><a href="abstracts_StakingBase.html#_addPoolToBeRemoved">_addPoolToBeRemoved</a></li><li><a href="abstracts_StakingBase.html#_deletePoolToBeElected">_deletePoolToBeElected</a></li><li><a href="abstracts_StakingBase.html#_deletePoolToBeRemoved">_deletePoolToBeRemoved</a></li><li><a href="abstracts_StakingBase.html#_getCurrentBlockNumber">_getCurrentBlockNumber</a></li><li><a href="abstracts_StakingBase.html#_getMaxCandidates">_getMaxCandidates</a></li><li><a href="abstracts_StakingBase.html#_initialize">_initialize</a></li><li><a href="abstracts_StakingBase.html#_isPoolToBeElected">_isPoolToBeElected</a></li><li><a href="abstracts_StakingBase.html#_isWithdrawAllowed">_isWithdrawAllowed</a></li><li><a href="abstracts_StakingBase.html#_removePool">_removePool</a></li><li><a href="abstracts_StakingBase.html#_removePoolDelegator">_removePoolDelegator</a></li><li><a href="abstracts_StakingBase.html#_removePoolDelegatorInactive">_removePoolDelegatorInactive</a></li><li><a href="abstracts_StakingBase.html#_removePoolInactive">_removePoolInactive</a></li><li><a href="abstracts_StakingBase.html#_setCandidateMinStake">_setCandidateMinStake</a></li><li><a href="abstracts_StakingBase.html#_setDelegatorMinStake">_setDelegatorMinStake</a></li><li><a href="abstracts_StakingBase.html#_setLikelihood">_setLikelihood</a></li><li><a href="abstracts_StakingBase.html#_setOrderWithdrawEpoch">_setOrderWithdrawEpoch</a></li><li><a href="abstracts_StakingBase.html#_setOrderedWithdrawAmount">_setOrderedWithdrawAmount</a></li><li><a href="abstracts_StakingBase.html#_setOrderedWithdrawAmountTotal">_setOrderedWithdrawAmountTotal</a></li><li><a href="abstracts_StakingBase.html#_setPoolDelegatorInactiveIndex">_setPoolDelegatorInactiveIndex</a></li><li><a href="abstracts_StakingBase.html#_setPoolDelegatorIndex">_setPoolDelegatorIndex</a></li><li><a href="abstracts_StakingBase.html#_setPoolInactiveIndex">_setPoolInactiveIndex</a></li><li><a href="abstracts_StakingBase.html#_setPoolIndex">_setPoolIndex</a></li><li><a href="abstracts_StakingBase.html#_setPoolToBeElectedIndex">_setPoolToBeElectedIndex</a></li><li><a href="abstracts_StakingBase.html#_setPoolToBeRemovedIndex">_setPoolToBeRemovedIndex</a></li><li><a href="abstracts_StakingBase.html#_setStakeAmount">_setStakeAmount</a></li><li><a href="abstracts_StakingBase.html#_setStakeAmountByCurrentEpoch">_setStakeAmountByCurrentEpoch</a></li><li><a href="abstracts_StakingBase.html#_setStakeAmountTotal">_setStakeAmountTotal</a></li><li><a href="abstracts_StakingBase.html#_stake">_stake</a></li><li><a href="abstracts_StakingBase.html#_stake">_stake</a></li><li><a href="abstracts_StakingBase.html#_withdraw">_withdraw</a></li><li><a href="abstracts_StakingBase.html#_withdrawCheckPool">_withdrawCheckPool</a></li><li><a href="abstracts_StakingBase.html#areStakeAndWithdrawAllowed">areStakeAndWithdrawAllowed</a></li><li><a href="abstracts_StakingBase.html#claimOrderedWithdraw">claimOrderedWithdraw</a></li><li><a href="abstracts_StakingBase.html#clearUnremovableValidator">clearUnremovableValidator</a></li><li><a href="abstracts_StakingBase.html#erc20Restricted">erc20Restricted</a></li><li><a href="abstracts_StakingBase.html#erc20TokenContract">erc20TokenContract</a></li><li><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid</a></li><li><a href="abstracts_StakingBase.html#getCandidateMinStake">getCandidateMinStake</a></li><li><a href="abstracts_StakingBase.html#getDelegatorMinStake">getDelegatorMinStake</a></li><li><a href="abstracts_StakingBase.html#getPools">getPools</a></li><li><a href="abstracts_StakingBase.html#getPoolsInactive">getPoolsInactive</a></li><li><a href="abstracts_StakingBase.html#getPoolsLikelihood">getPoolsLikelihood</a></li><li><a href="abstracts_StakingBase.html#getPoolsToBeElected">getPoolsToBeElected</a></li><li><a href="abstracts_StakingBase.html#getPoolsToBeRemoved">getPoolsToBeRemoved</a></li><li><a href="abstracts_StakingBase.html#incrementStakingEpoch">incrementStakingEpoch</a></li><li><a href="abstracts_StakingBase.html#isPoolActive">isPoolActive</a></li><li><a href="abstracts_StakingBase.html#maxWithdrawAllowed">maxWithdrawAllowed</a></li><li><a href="abstracts_StakingBase.html#maxWithdrawOrderAllowed">maxWithdrawOrderAllowed</a></li><li><a href="abstracts_StakingBase.html#moveStake">moveStake</a></li><li><a href="abstracts_StakingBase.html#onTokenTransfer">onTokenTransfer</a></li><li><a href="abstracts_StakingBase.html#onlyBlockRewardContract">onlyBlockRewardContract</a></li><li><a href="abstracts_StakingBase.html#onlyValidatorSetContract">onlyValidatorSetContract</a></li><li><a href="abstracts_StakingBase.html#orderWithdraw">orderWithdraw</a></li><li><a href="abstracts_StakingBase.html#orderWithdrawEpoch">orderWithdrawEpoch</a></li><li><a href="abstracts_StakingBase.html#orderedWithdrawAmount">orderedWithdrawAmount</a></li><li><a href="abstracts_StakingBase.html#orderedWithdrawAmountTotal">orderedWithdrawAmountTotal</a></li><li><a href="abstracts_StakingBase.html#poolDelegatorInactiveIndex">poolDelegatorInactiveIndex</a></li><li><a href="abstracts_StakingBase.html#poolDelegatorIndex">poolDelegatorIndex</a></li><li><a href="abstracts_StakingBase.html#poolDelegators">poolDelegators</a></li><li><a href="abstracts_StakingBase.html#poolInactiveIndex">poolInactiveIndex</a></li><li><a href="abstracts_StakingBase.html#poolIndex">poolIndex</a></li><li><a href="abstracts_StakingBase.html#poolToBeElectedIndex">poolToBeElectedIndex</a></li><li><a href="abstracts_StakingBase.html#poolToBeRemovedIndex">poolToBeRemovedIndex</a></li><li><a href="abstracts_StakingBase.html#removeMyPool">removeMyPool</a></li><li><a href="abstracts_StakingBase.html#removePool">removePool</a></li><li><a href="abstracts_StakingBase.html#setCandidateMinStake">setCandidateMinStake</a></li><li><a href="abstracts_StakingBase.html#setDelegatorMinStake">setDelegatorMinStake</a></li><li><a href="abstracts_StakingBase.html#setErc20TokenContract">setErc20TokenContract</a></li><li><a href="abstracts_StakingBase.html#stake">stake</a></li><li><a href="abstracts_StakingBase.html#stakeAmount">stakeAmount</a></li><li><a href="abstracts_StakingBase.html#stakeAmountByCurrentEpoch">stakeAmountByCurrentEpoch</a></li><li><a href="abstracts_StakingBase.html#stakeAmountMinusOrderedWithdraw">stakeAmountMinusOrderedWithdraw</a></li><li><a href="abstracts_StakingBase.html#stakeAmountTotal">stakeAmountTotal</a></li><li><a href="abstracts_StakingBase.html#stakeAmountTotalMinusOrderedWithdraw">stakeAmountTotalMinusOrderedWithdraw</a></li><li><a href="abstracts_StakingBase.html#stakeNative">stakeNative</a></li><li><a href="abstracts_StakingBase.html#stakingEpoch">stakingEpoch</a></li><li><a href="abstracts_StakingBase.html#validatorSetContract">validatorSetContract</a></li><li><a href="abstracts_StakingBase.html#withdraw">withdraw</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="Claimed" class="anchor-marker"></span><h4 class="name">Claimed</h4><div class="body"><code class="signature">event <strong>Claimed</strong><span>(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) </span></code><hr/><div class="description"><p>Emitted by the `claimOrderedWithdraw` function to signal the staker withdrew the specified amount of requested tokens/coins from the specified pool during the specified staking epoch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>fromPoolStakingAddress</code> - The pool from which the `staker` withdrew the `amount`.</div><div><code>staker</code> - The address of the staker that withdrew the `amount`.</div><div><code>stakingEpoch</code> - The serial number of the staking epoch during which the claim was made.</div><div><code>amount</code> - The withdrawal amount.</div></dd></dl></div></div></li><li><div class="item event"><span id="StakeMoved" class="anchor-marker"></span><h4 class="name">StakeMoved</h4><div class="body"><code class="signature">event <strong>StakeMoved</strong><span>(address fromPoolStakingAddress, address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) </span></code><hr/><div class="description"><p>Emitted by the `moveStake` function to signal the staker moved the specified amount of stake from one pool to another during the specified staking epoch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>fromPoolStakingAddress</code> - The pool from which the `staker` moved the stake.</div><div><code>toPoolStakingAddress</code> - The destination pool where the `staker` moved the stake.</div><div><code>staker</code> - The address of the staker who moved the `amount`.</div><div><code>stakingEpoch</code> - The serial number of the staking epoch during which the `amount` was moved.</div><div><code>amount</code> - The stake amount.</div></dd></dl></div></div></li><li><div class="item event"><span id="Staked" class="anchor-marker"></span><h4 class="name">Staked</h4><div class="body"><code class="signature">event <strong>Staked</strong><span>(address toPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) </span></code><hr/><div class="description"><p>Emitted by the `stake` function to signal the staker placed a stake of the specified amount for the specified pool during the specified staking epoch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>toPoolStakingAddress</code> - The pool in which the `staker` placed the stake.</div><div><code>staker</code> - The address of the staker that placed the stake.</div><div><code>stakingEpoch</code> - The serial number of the staking epoch during which the stake was made.</div><div><code>amount</code> - The stake amount.</div></dd></dl></div></div></li><li><div class="item event"><span id="WithdrawalOrdered" class="anchor-marker"></span><h4 class="name">WithdrawalOrdered</h4><div class="body"><code class="signature">event <strong>WithdrawalOrdered</strong><span>(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, int256 amount) </span></code><hr/><div class="description"><p>Emitted by the `orderWithdraw` function to signal the staker ordered the withdrawal of the specified amount of their stake from the specified pool during the specified staking epoch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>fromPoolStakingAddress</code> - The pool from which the `staker` ordered a withdrawal of the `amount`.</div><div><code>staker</code> - The address of the staker that ordered the withdrawal of the `amount`.</div><div><code>stakingEpoch</code> - The serial number of the staking epoch during which the order was made.</div><div><code>amount</code> - The ordered withdrawal amount. Can be either positive or negative. See the `orderWithdraw` function.</div></dd></dl></div></div></li><li><div class="item event"><span id="Withdrawn" class="anchor-marker"></span><h4 class="name">Withdrawn</h4><div class="body"><code class="signature">event <strong>Withdrawn</strong><span>(address fromPoolStakingAddress, address staker, uint256 stakingEpoch, uint256 amount) </span></code><hr/><div class="description"><p>Emitted by the `withdraw` function to signal the staker withdrew the specified amount of a stake from the specified pool during the specified staking epoch.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>fromPoolStakingAddress</code> - The pool from which the `staker` withdrew the `amount`.</div><div><code>staker</code> - The address of staker that withdrew the `amount`.</div><div><code>stakingEpoch</code> - The serial number of the staking epoch during which the withdrawal was made.</div><div><code>amount</code> - The withdrawal amount.</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="gasPriceIsValid" class="anchor-marker"></span><h4 class="name">gasPriceIsValid</h4><div class="body"><code class="signature">modifier <strong>gasPriceIsValid</strong><span>() </span></code><hr/><div class="description"><p>Ensures the transaction gas price is not zero.</p></div></div></div></li><li><div class="item modifier"><span id="onlyBlockRewardContract" class="anchor-marker"></span><h4 class="name">onlyBlockRewardContract</h4><div class="body"><code class="signature">modifier <strong>onlyBlockRewardContract</strong><span>() </span></code><hr/><div class="description"><p>Ensures the caller is the BlockReward contract address (EternalStorageProxy proxy contract for BlockReward).</p></div></div></div></li><li><div class="item modifier"><span id="onlyValidatorSetContract" class="anchor-marker"></span><h4 class="name">onlyValidatorSetContract</h4><div class="body"><code class="signature">modifier <strong>onlyValidatorSetContract</strong><span>() </span></code><hr/><div class="description"><p>Ensures the caller is the ValidatorSet contract address (EternalStorageProxy proxy contract for ValidatorSet).</p></div></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="_addPoolActive" class="anchor-marker"></span><h4 class="name">_addPoolActive</h4><div class="body"><code class="signature">function <strong>_addPoolActive</strong><span>(address _stakingAddress, bool _toBeElected) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified staking address to the array of active pools returned by the `getPools` getter. Used by the `stake` and `orderWithdraw` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool added to the array of active pools.</div><div><code>_toBeElected</code> - The boolean flag which defines whether the specified address should be added simultaneously to the `poolsToBeElected` array. See the `getPoolsToBeElected` getter.</div></dd></dl></div></div></li><li><div class="item function"><span id="_addPoolDelegator" class="anchor-marker"></span><h4 class="name">_addPoolDelegator</h4><div class="body"><code class="signature">function <strong>_addPoolDelegator</strong><span>(address _poolStakingAddress, address _delegator) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified address to the array of the current active delegators of the specified pool. Used by the `stake` and `orderWithdraw` functions. See the `poolDelegators` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div></dd></dl></div></div></li><li><div class="item function"><span id="_addPoolDelegatorInactive" class="anchor-marker"></span><h4 class="name">_addPoolDelegatorInactive</h4><div class="body"><code class="signature">function <strong>_addPoolDelegatorInactive</strong><span>(address _poolStakingAddress, address _delegator) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified address to the array of the current inactive delegators of the specified pool. Used by the `_removePoolDelegator` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div></dd></dl></div></div></li><li><div class="item function"><span id="_addPoolInactive" class="anchor-marker"></span><h4 class="name">_addPoolInactive</h4><div class="body"><code class="signature">function <strong>_addPoolInactive</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified staking address to the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_removePool` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool added to the array of inactive pools.</div></dd></dl></div></div></li><li><div class="item function"><span id="_addPoolToBeElected" class="anchor-marker"></span><h4 class="name">_addPoolToBeElected</h4><div class="body"><code class="signature">function <strong>_addPoolToBeElected</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified staking address to the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolActive` function. See the `getPoolsToBeElected` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool added to the `poolsToBeElected` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_addPoolToBeRemoved" class="anchor-marker"></span><h4 class="name">_addPoolToBeRemoved</h4><div class="body"><code class="signature">function <strong>_addPoolToBeRemoved</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Adds the specified staking address to the array of pools returned by the `getPoolsToBeRemoved` getter. Used by withdrawal functions. See the `getPoolsToBeRemoved` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool added to the `poolsToBeRemoved` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_deletePoolToBeElected" class="anchor-marker"></span><h4 class="name">_deletePoolToBeElected</h4><div class="body"><code class="signature">function <strong>_deletePoolToBeElected</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Deletes the specified staking address from the array of pools returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeRemoved` and `_removePool` functions. See the `getPoolsToBeElected` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool deleted from the `poolsToBeElected` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_deletePoolToBeRemoved" class="anchor-marker"></span><h4 class="name">_deletePoolToBeRemoved</h4><div class="body"><code class="signature">function <strong>_deletePoolToBeRemoved</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Deletes the specified staking address from the array of pools returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeElected` and `_removePool` functions. See the `getPoolsToBeRemoved` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool deleted from the `poolsToBeRemoved` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_getCurrentBlockNumber" class="anchor-marker"></span><h4 class="name">_getCurrentBlockNumber</h4><div class="body"><code class="signature">function <strong>_getCurrentBlockNumber</strong><span>() </span><span>internal </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the current block number. Needed mostly for unit tests.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_getMaxCandidates" class="anchor-marker"></span><h4 class="name">_getMaxCandidates</h4><div class="body"><code class="signature">function <strong>_getMaxCandidates</strong><span>() </span><span>internal </span><span>pure </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the max number of candidates (including validators). See the MAX_CANDIDATES constant. Needed mostly for unit tests.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="_initialize" class="anchor-marker"></span><h4 class="name">_initialize</h4><div class="body"><code class="signature">function <strong>_initialize</strong><span>(address _validatorSetContract, address[] _initialStakingAddresses, uint256 _delegatorMinStake, uint256 _candidateMinStake, bool _erc20Restricted) </span><span>internal </span></code><hr/><div class="description"><p>Initializes the network parameters. Used by the `initialize` function of a child contract.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_validatorSetContract</code> - The address of the `ValidatorSet` contract.</div><div><code>_initialStakingAddresses</code> - The array of initial validators&#x27; staking addresses.</div><div><code>_delegatorMinStake</code> - The minimum allowed amount of delegator stake in STAKE_UNITs.</div><div><code>_candidateMinStake</code> - The minimum allowed amount of candidate/validator stake in STAKE_UNITs.</div><div><code>_erc20Restricted</code> - Defines whether this staking contract restricts using ERC20/677 contract. If it&#x27;s set to `true`, native staking coins are used instead of ERC staking tokens.</div></dd></dl></div></div></li><li><div class="item function"><span id="_isPoolToBeElected" class="anchor-marker"></span><h4 class="name">_isPoolToBeElected</h4><div class="body"><code class="signature">function <strong>_isPoolToBeElected</strong><span>(address _stakingAddress) </span><span>internal </span><span>view </span><span>returns  (bool, uint256) </span></code><hr/><div class="description"><p>Determines if the specified pool is in the `poolsToBeElected` array. See the `getPoolsToBeElected` getter. Used by the `_setLikelihood` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The staking address of the pool.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>`bool toBeElected` - The boolean flag indicating whether the `_stakingAddress` is in the `poolsToBeElected` array. `uint256 index` - The position of the item in the `poolsToBeElected` array if `toBeElected` is `true`.</dd></dl></div></div></li><li><div class="item function"><span id="_isWithdrawAllowed" class="anchor-marker"></span><h4 class="name">_isWithdrawAllowed</h4><div class="body"><code class="signature">function <strong>_isWithdrawAllowed</strong><span>(address _miningAddress) </span><span>internal </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns `true` if withdrawal from the pool of the specified validator is allowed at the moment. Used by all withdrawal functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_miningAddress</code> - The mining address of the validator&#x27;s pool.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="_removePool" class="anchor-marker"></span><h4 class="name">_removePool</h4><div class="body"><code class="signature">function <strong>_removePool</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Removes the specified staking address from the array of active pools returned by the `getPools` getter. Used by the `removePool` and withdrawal functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool removed from the array of active pools.</div></dd></dl></div></div></li><li><div class="item function"><span id="_removePoolDelegator" class="anchor-marker"></span><h4 class="name">_removePoolDelegator</h4><div class="body"><code class="signature">function <strong>_removePoolDelegator</strong><span>(address _poolStakingAddress, address _delegator) </span><span>internal </span></code><hr/><div class="description"><p>Removes the specified address from the array of the current active delegators of the specified pool. Used by the withdrawal functions. See the `poolDelegators` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div></dd></dl></div></div></li><li><div class="item function"><span id="_removePoolDelegatorInactive" class="anchor-marker"></span><h4 class="name">_removePoolDelegatorInactive</h4><div class="body"><code class="signature">function <strong>_removePoolDelegatorInactive</strong><span>(address _poolStakingAddress, address _delegator) </span><span>internal </span></code><hr/><div class="description"><p>Removes the specified address from the array of the inactive delegators of the specified pool. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div></dd></dl></div></div></li><li><div class="item function"><span id="_removePoolInactive" class="anchor-marker"></span><h4 class="name">_removePoolInactive</h4><div class="body"><code class="signature">function <strong>_removePoolInactive</strong><span>(address _stakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Removes the specified staking address from the array of inactive pools returned by the `getPoolsInactive` getter. Used by the `_addPoolActive` and `_removePool` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool removed from the array of inactive pools.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setCandidateMinStake" class="anchor-marker"></span><h4 class="name">_setCandidateMinStake</h4><div class="body"><code class="signature">function <strong>_setCandidateMinStake</strong><span>(uint256 _minStake) </span><span>internal </span></code><hr/><div class="description"><p>Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Used by the `_initialize` and `setCandidateMinStake` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_minStake</code> - The value of a new limit in STAKE_UNITs.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setDelegatorMinStake" class="anchor-marker"></span><h4 class="name">_setDelegatorMinStake</h4><div class="body"><code class="signature">function <strong>_setDelegatorMinStake</strong><span>(uint256 _minStake) </span><span>internal </span></code><hr/><div class="description"><p>Sets (updates) the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE). Used by the `_initialize` and `setDelegatorMinStake` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_minStake</code> - The value of a new limit in STAKE_UNITs.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setLikelihood" class="anchor-marker"></span><h4 class="name">_setLikelihood</h4><div class="body"><code class="signature">function <strong>_setLikelihood</strong><span>(address _poolStakingAddress) </span><span>internal </span></code><hr/><div class="description"><p>Calculates (updates) the probability of being selected as a validator for the specified pool and updates the total sum of probability coefficients. See the `getPoolsLikelihood` getter. Used by the staking and withdrawal functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The address of the pool for which the probability coefficient must be updated.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setOrderWithdrawEpoch" class="anchor-marker"></span><h4 class="name">_setOrderWithdrawEpoch</h4><div class="body"><code class="signature">function <strong>_setOrderWithdrawEpoch</strong><span>(address _poolStakingAddress, address _staker, uint256 _stakingEpoch) </span><span>internal </span></code><hr/><div class="description"><p>Sets the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `orderWithdraw` function to allow the ordered amount to be claimed only in future staking epochs. See also the `orderWithdrawEpoch` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the withdrawal will occur.</div><div><code>_staker</code> - The staker&#x27;s address that ordered the withdrawal.</div><div><code>_stakingEpoch</code> - The number of the current staking epoch.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setOrderedWithdrawAmount" class="anchor-marker"></span><h4 class="name">_setOrderedWithdrawAmount</h4><div class="body"><code class="signature">function <strong>_setOrderedWithdrawAmount</strong><span>(address _poolStakingAddress, address _staker, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>Sets the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the amount will be withdrawn.</div><div><code>_staker</code> - The staker&#x27;s address that ordered the withdrawal.</div><div><code>_amount</code> - The amount of staking tokens ordered for withdrawal.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setOrderedWithdrawAmountTotal" class="anchor-marker"></span><h4 class="name">_setOrderedWithdrawAmountTotal</h4><div class="body"><code class="signature">function <strong>_setOrderedWithdrawAmountTotal</strong><span>(address _poolStakingAddress, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>Sets the total amount of staking tokens/coins ordered for withdrawal from the specified pool by all its stakers.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the amount will be withdrawn.</div><div><code>_amount</code> - The total amount of staking tokens/coins ordered for withdrawal.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolDelegatorInactiveIndex" class="anchor-marker"></span><h4 class="name">_setPoolDelegatorInactiveIndex</h4><div class="body"><code class="signature">function <strong>_setPoolDelegatorInactiveIndex</strong><span>(address _poolStakingAddress, address _delegator, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the delegator&#x27;s index in the `poolDelegatorsInactive` array. Used by the `_addPoolDelegatorInactive` and `_removePoolDelegatorInactive` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div><div><code>_index</code> - The index of the delegator in the `poolDelegatorsInactive` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolDelegatorIndex" class="anchor-marker"></span><h4 class="name">_setPoolDelegatorIndex</h4><div class="body"><code class="signature">function <strong>_setPoolDelegatorIndex</strong><span>(address _poolStakingAddress, address _delegator, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the delegator&#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_addPoolDelegator` and `_removePoolDelegator` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div><div><code>_index</code> - The index of the delegator in the `poolDelegators` array.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolInactiveIndex" class="anchor-marker"></span><h4 class="name">_setPoolInactiveIndex</h4><div class="body"><code class="signature">function <strong>_setPoolInactiveIndex</strong><span>(address _stakingAddress, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsInactive` getter. Used by the `_addPoolInactive` and `_removePoolInactive` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div><div><code>_index</code> - The index value.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolIndex" class="anchor-marker"></span><h4 class="name">_setPoolIndex</h4><div class="body"><code class="signature">function <strong>_setPoolIndex</strong><span>(address _stakingAddress, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the index for the specified address which indicates the position of the address in the array returned by the `getPools` getter. Used by the `_addPoolActive` and `_removePool` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div><div><code>_index</code> - The index value.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolToBeElectedIndex" class="anchor-marker"></span><h4 class="name">_setPoolToBeElectedIndex</h4><div class="body"><code class="signature">function <strong>_setPoolToBeElectedIndex</strong><span>(address _stakingAddress, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeElected` getter. Used by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div><div><code>_index</code> - The index value.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setPoolToBeRemovedIndex" class="anchor-marker"></span><h4 class="name">_setPoolToBeRemovedIndex</h4><div class="body"><code class="signature">function <strong>_setPoolToBeRemovedIndex</strong><span>(address _stakingAddress, uint256 _index) </span><span>internal </span></code><hr/><div class="description"><p>Sets the index for the specified address which indicates the position of the address in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div><div><code>_index</code> - The index value.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setStakeAmount" class="anchor-marker"></span><h4 class="name">_setStakeAmount</h4><div class="body"><code class="signature">function <strong>_setStakeAmount</strong><span>(address _poolStakingAddress, address _staker, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>Sets the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Used by the `stake`, `withdraw`, and `claimOrderedWithdraw` functions. See the `stakeAmount` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_staker</code> - The staker&#x27;s address.</div><div><code>_amount</code> - The amount of staking tokens/coins.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setStakeAmountByCurrentEpoch" class="anchor-marker"></span><h4 class="name">_setStakeAmountByCurrentEpoch</h4><div class="body"><code class="signature">function <strong>_setStakeAmountByCurrentEpoch</strong><span>(address _poolStakingAddress, address _staker, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>Sets the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). See also the `stakeAmountByCurrentEpoch` getter. Used by the `_stake` and `_withdraw` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_staker</code> - The staker&#x27;s address.</div><div><code>_amount</code> - The amount of staking tokens/coins.</div></dd></dl></div></div></li><li><div class="item function"><span id="_setStakeAmountTotal" class="anchor-marker"></span><h4 class="name">_setStakeAmountTotal</h4><div class="body"><code class="signature">function <strong>_setStakeAmountTotal</strong><span>(address _poolStakingAddress, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>Sets the total amount of staking tokens/coins currently staked into the specified pool.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_amount</code> - The total amount of staking tokens/coins.</div></dd></dl></div></div></li><li><div class="item function"><span id="_stake" class="anchor-marker"></span><h4 class="name">_stake</h4><div class="body"><code class="signature">function <strong>_stake</strong><span>(address _toPoolStakingAddress, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>The internal function used by the `stake` and `addPool` functions. See the `stake` public function for more details.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_toPoolStakingAddress</code> - The staking address of the pool where the tokens/coins should be staked.</div><div><code>_amount</code> - The amount of tokens/coins to be staked.</div></dd></dl></div></div></li><li><div class="item function"><span id="_stake" class="anchor-marker"></span><h4 class="name">_stake</h4><div class="body"><code class="signature">function <strong>_stake</strong><span>(address _poolStakingAddress, address _staker, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>The internal function used by the `_stake` and `moveStake` functions. See the `stake` public function for more details.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The staking address of the pool where the tokens/coins should be staked.</div><div><code>_staker</code> - The staker&#x27;s address.</div><div><code>_amount</code> - The amount of tokens/coins to be staked.</div></dd></dl></div></div></li><li><div class="item function"><span id="_withdraw" class="anchor-marker"></span><h4 class="name">_withdraw</h4><div class="body"><code class="signature">function <strong>_withdraw</strong><span>(address _poolStakingAddress, address _staker, uint256 _amount) </span><span>internal </span></code><hr/><div class="description"><p>The internal function used by the `withdraw` and `moveStake` functions. See the `withdraw` public function for more details.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The staking address of the pool from which the tokens/coins should be withdrawn.</div><div><code>_staker</code> - The staker&#x27;s address.</div><div><code>_amount</code> - The amount of the tokens/coins to be withdrawn.</div></dd></dl></div></div></li><li><div class="item function"><span id="_withdrawCheckPool" class="anchor-marker"></span><h4 class="name">_withdrawCheckPool</h4><div class="body"><code class="signature">function <strong>_withdrawCheckPool</strong><span>(address _poolStakingAddress, address _staker) </span><span>internal </span></code><hr/><div class="description"><p>The internal function used by the `_withdraw` and `claimOrderedWithdraw` functions. Contains a common logic for these functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The staking address of the pool from which the tokens/coins are withdrawn.</div><div><code>_staker</code> - The staker&#x27;s address.</div></dd></dl></div></div></li><li><div class="item function"><span id="areStakeAndWithdrawAllowed" class="anchor-marker"></span><h4 class="name">areStakeAndWithdrawAllowed</h4><div class="body"><code class="signature"><span>abstract </span>function <strong>areStakeAndWithdrawAllowed</strong><span>() </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns a boolean flag indicating whether the stake and withdraw operations are allowed at the moment.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="claimOrderedWithdraw" class="anchor-marker"></span><h4 class="name">claimOrderedWithdraw</h4><div class="body"><code class="signature">function <strong>claimOrderedWithdraw</strong><span>(address _poolStakingAddress) </span><span>external </span></code><hr/><div class="description"><p>Withdraws the staking tokens/coins from the specified pool ordered during the previous staking epochs with the `orderWithdraw` function. The ordered amount can be retrieved by the `orderedWithdrawAmount` getter.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The staking address of the pool from which the ordered tokens/coins are withdrawn.</div></dd></dl></div></div></li><li><div class="item function"><span id="clearUnremovableValidator" class="anchor-marker"></span><h4 class="name">clearUnremovableValidator</h4><div class="body"><code class="signature">function <strong>clearUnremovableValidator</strong><span>(address _unremovableStakingAddress) </span><span>external </span></code><hr/><div class="description"><p>Adds the `unremovable validator` to either the `poolsToBeElected` or the `poolsToBeRemoved` array depending on their own stake in their own pool when they become removable. This allows the `ValidatorSet._newValidatorSet` function to recognize the unremovable validator as a regular removable pool. Called by the `ValidatorSet.clearUnremovableValidator` function.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#onlyValidatorSetContract">onlyValidatorSetContract </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_unremovableStakingAddress</code> - The staking address of the unremovable validator.</div></dd></dl></div></div></li><li><div class="item function"><span id="erc20Restricted" class="anchor-marker"></span><h4 class="name">erc20Restricted</h4><div class="body"><code class="signature">function <strong>erc20Restricted</strong><span>() </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns a boolean flag indicating whether this contract restricts using ERC20/677 contract. If it returns `true`, native staking coins are used instead of ERC staking tokens.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="erc20TokenContract" class="anchor-marker"></span><h4 class="name">erc20TokenContract</h4><div class="body"><code class="signature">function <strong>erc20TokenContract</strong><span>() </span><span>public </span><span>view </span><span>returns  (address) </span></code><hr/><div class="description"><p>Returns the address of the ERC20/677 staking token contract.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address</dd></dl></div></div></li><li><div class="item function"><span id="getCandidateMinStake" class="anchor-marker"></span><h4 class="name">getCandidateMinStake</h4><div class="body"><code class="signature">function <strong>getCandidateMinStake</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE).</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="getDelegatorMinStake" class="anchor-marker"></span><h4 class="name">getDelegatorMinStake</h4><div class="body"><code class="signature">function <strong>getDelegatorMinStake</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the limit of the minimum delegator stake (DELEGATOR_MIN_STAKE).</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="getPools" class="anchor-marker"></span><h4 class="name">getPools</h4><div class="body"><code class="signature">function <strong>getPools</strong><span>() </span><span>external </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns an array of the current active pools (the staking addresses of candidates and validators). The size of the array cannot exceed MAX_CANDIDATES. A pool can be added to this array with the `_addPoolActive` function which is called by the `stake` or `orderWithdraw` function. A pool is considered active if its address has at least the minimum stake and this stake is not ordered to be withdrawn.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="getPoolsInactive" class="anchor-marker"></span><h4 class="name">getPoolsInactive</h4><div class="body"><code class="signature">function <strong>getPoolsInactive</strong><span>() </span><span>external </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns an array of the current inactive pools (the staking addresses of former candidates). A pool can be added to this array with the `_addPoolInactive` function which is called by `_removePool`. A pool is considered inactive if it is banned for some reason, if its address has zero stake, or if its entire stake is ordered to be withdrawn.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="getPoolsLikelihood" class="anchor-marker"></span><h4 class="name">getPoolsLikelihood</h4><div class="body"><code class="signature">function <strong>getPoolsLikelihood</strong><span>() </span><span>external </span><span>view </span><span>returns  (int256[], int256) </span></code><hr/><div class="description"><p>Returns the list of probability coefficients of being selected as a validator for each corresponding address in the `poolsToBeElected` array (see the `getPoolsToBeElected` getter) and a sum of these coefficients. Used by the `ValidatorSet._newValidatorSet` function when randomly selecting new validators at the last block of a staking epoch. A pool&#x27;s coefficient is updated every time any staked amount is changed in this pool (see the `_setLikelihood` function).</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>`int256[] likelihoods` - The array of the coefficients. The array length is always equal to the length of the `poolsToBeElected` array. `int256 sum` - The sum of the coefficients.</dd></dl></div></div></li><li><div class="item function"><span id="getPoolsToBeElected" class="anchor-marker"></span><h4 class="name">getPoolsToBeElected</h4><div class="body"><code class="signature">function <strong>getPoolsToBeElected</strong><span>() </span><span>external </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns the list of pools (their staking addresses) which will participate in a new validator set selection process in the `ValidatorSet._newValidatorSet` function. This is an array of pools which will be considered as candidates when forming a new validator set (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeElected` and `_deletePoolToBeElected` functions.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="getPoolsToBeRemoved" class="anchor-marker"></span><h4 class="name">getPoolsToBeRemoved</h4><div class="body"><code class="signature">function <strong>getPoolsToBeRemoved</strong><span>() </span><span>external </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns the list of pools (their staking addresses) which will be removed by the `ValidatorSet._newValidatorSet` function from the active `pools` array (at the last block of a staking epoch). This array is kept updated by the `_addPoolToBeRemoved` and `_deletePoolToBeRemoved` functions. A pool is added to this array when the pool&#x27;s address withdraws all of its own staking tokens from the pool, inactivating the pool.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="incrementStakingEpoch" class="anchor-marker"></span><h4 class="name">incrementStakingEpoch</h4><div class="body"><code class="signature">function <strong>incrementStakingEpoch</strong><span>() </span><span>external </span></code><hr/><div class="description"><p>Increments the serial number of the current staking epoch. Called by the `ValidatorSet._newValidatorSet` at the last block of the finished staking epoch.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#onlyValidatorSetContract">onlyValidatorSetContract </a></dd></dl></div></div></li><li><div class="item function"><span id="isPoolActive" class="anchor-marker"></span><h4 class="name">isPoolActive</h4><div class="body"><code class="signature">function <strong>isPoolActive</strong><span>(address _stakingAddress) </span><span>public </span><span>view </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Returns a flag indicating whether a specified address is in the `pools` array. See the `getPools` getter.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The staking address of the pool.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="maxWithdrawAllowed" class="anchor-marker"></span><h4 class="name">maxWithdrawAllowed</h4><div class="body"><code class="signature">function <strong>maxWithdrawAllowed</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the maximum amount which can be withdrawn from the specified pool by the specified staker at the moment. Used by the `withdraw` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the withdrawal will be made.</div><div><code>_staker</code> - The staker address that is going to withdraw.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="maxWithdrawOrderAllowed" class="anchor-marker"></span><h4 class="name">maxWithdrawOrderAllowed</h4><div class="body"><code class="signature">function <strong>maxWithdrawOrderAllowed</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the maximum amount which can be ordered to be withdrawn from the specified pool by the specified staker at the moment. Used by the `orderWithdraw` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the withdrawal will be ordered.</div><div><code>_staker</code> - The staker address that is going to order the withdrawal.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="moveStake" class="anchor-marker"></span><h4 class="name">moveStake</h4><div class="body"><code class="signature">function <strong>moveStake</strong><span>(address _fromPoolStakingAddress, address _toPoolStakingAddress, uint256 _amount) </span><span>external </span></code><hr/><div class="description"><p>Moves staking tokens/coins from one pool to another. A staker calls this function when they want to move their tokens/coins from one pool to another without withdrawing their tokens/coins.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_fromPoolStakingAddress</code> - The staking address of the source pool.</div><div><code>_toPoolStakingAddress</code> - The staking address of the target pool.</div><div><code>_amount</code> - The amount of staking tokens/coins to be moved. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.</div></dd></dl></div></div></li><li><div class="item function"><span id="onTokenTransfer" class="anchor-marker"></span><h4 class="name">onTokenTransfer</h4><div class="body"><code class="signature">function <strong>onTokenTransfer</strong><span>(address , uint256 , bytes ) </span><span>public </span><span>pure </span><span>returns  (bool) </span></code><hr/><div class="description"><p>Prevents sending tokens directly to the `Staking` contract address by the `ERC677BridgeTokenRewardable.transferAndCall` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code></code> - address</div><div><code></code> - uint256</div><div><code></code> - bytes</div></dd><dt><span class="label-return">Returns:</span></dt><dd>bool</dd></dl></div></div></li><li><div class="item function"><span id="orderWithdraw" class="anchor-marker"></span><h4 class="name">orderWithdraw</h4><div class="body"><code class="signature">function <strong>orderWithdraw</strong><span>(address _poolStakingAddress, int256 _amount) </span><span>external </span></code><hr/><div class="description"><p>Orders a token/coin withdrawal from the staking address of the specified pool to the staker&#x27;s address. The requested tokens/coins can be claimed after the current staking epoch is complete using the `claimOrderedWithdraw` function.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The staking address of the pool from which the amount will be withdrawn.</div><div><code>_amount</code> - The amount to be withdrawn. A positive value means the staker wants to either set or increase their withdrawal amount. A negative value means the staker wants to decrease a withdrawal amount that was previously set. The amount cannot exceed the value returned by the `maxWithdrawOrderAllowed` getter.</div></dd></dl></div></div></li><li><div class="item function"><span id="orderWithdrawEpoch" class="anchor-marker"></span><h4 class="name">orderWithdrawEpoch</h4><div class="body"><code class="signature">function <strong>orderWithdrawEpoch</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the number of the staking epoch during which the specified staker ordered the latest withdraw from the specified pool. Used by the `claimOrderedWithdraw` function to allow the ordered amount to be claimed only in future staking epochs.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the withdrawal will occur.</div><div><code>_staker</code> - The staker address that ordered the withdrawal.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="orderedWithdrawAmount" class="anchor-marker"></span><h4 class="name">orderedWithdrawAmount</h4><div class="body"><code class="signature">function <strong>orderedWithdrawAmount</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the current amount of staking tokens/coins ordered for withdrawal from the specified pool by the specified staker. Used by the `orderWithdraw` and `claimOrderedWithdraw` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the amount will be withdrawn.</div><div><code>_staker</code> - The staker address that ordered the withdrawal.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="orderedWithdrawAmountTotal" class="anchor-marker"></span><h4 class="name">orderedWithdrawAmountTotal</h4><div class="body"><code class="signature">function <strong>orderedWithdrawAmountTotal</strong><span>(address _poolStakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the current total amount of staking tokens/coins ordered for withdrawal from the specified pool by all of its stakers.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address from which the amount will be withdrawn.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="poolDelegatorInactiveIndex" class="anchor-marker"></span><h4 class="name">poolDelegatorInactiveIndex</h4><div class="body"><code class="signature">function <strong>poolDelegatorInactiveIndex</strong><span>(address _poolStakingAddress, address _delegator) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the delegator&#x27;s index in the `poolDelegatorsInactive` array. Used by the `_removePoolDelegatorInactive` function. A delegator is considered inactive if they have withdrawn all their tokens from the specified pool or their entire stake is ordered to be withdrawn.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address for which the inactive delegator&#x27;s index is returned.</div><div><code>_delegator</code> - The delegator address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="poolDelegatorIndex" class="anchor-marker"></span><h4 class="name">poolDelegatorIndex</h4><div class="body"><code class="signature">function <strong>poolDelegatorIndex</strong><span>(address _poolStakingAddress, address _delegator) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the delegator&#x27;s index in the array returned by the `poolDelegators` getter. Used by the `_removePoolDelegator` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_delegator</code> - The delegator&#x27;s address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>If the returned value is zero, it may mean the array doesn&#x27;t contain the delegator. Check if the delegator is in the array using the `poolDelegators` getter.</dd></dl></div></div></li><li><div class="item function"><span id="poolDelegators" class="anchor-marker"></span><h4 class="name">poolDelegators</h4><div class="body"><code class="signature">function <strong>poolDelegators</strong><span>(address _poolStakingAddress) </span><span>public </span><span>view </span><span>returns  (address[]) </span></code><hr/><div class="description"><p>Returns an array of the current active delegators of the specified pool. A delegator is considered active if they have staked into the specified pool and their stake is not ordered to be withdrawn.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>address[]</dd></dl></div></div></li><li><div class="item function"><span id="poolInactiveIndex" class="anchor-marker"></span><h4 class="name">poolInactiveIndex</h4><div class="body"><code class="signature">function <strong>poolInactiveIndex</strong><span>(address _stakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the pool&#x27;s index in the array returned by the `getPoolsInactive` getter. Used by the `_removePoolInactive` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="poolIndex" class="anchor-marker"></span><h4 class="name">poolIndex</h4><div class="body"><code class="signature">function <strong>poolIndex</strong><span>(address _stakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the pool&#x27;s index in the array returned by the `getPools` getter. Used by the `_removePool` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>If the returned value is zero, it may mean the array doesn&#x27;t contain the address. Check the address is in the array using the `isPoolActive` getter.</dd></dl></div></div></li><li><div class="item function"><span id="poolToBeElectedIndex" class="anchor-marker"></span><h4 class="name">poolToBeElectedIndex</h4><div class="body"><code class="signature">function <strong>poolToBeElectedIndex</strong><span>(address _stakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the pool&#x27;s index in the array returned by the `getPoolsToBeElected` getter. Used by the `_deletePoolToBeElected` and `_isPoolToBeElected` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>If the returned value is zero, it may mean the array doesn&#x27;t contain the address. Check the address is in the array using the `getPoolsToBeElected` getter.</dd></dl></div></div></li><li><div class="item function"><span id="poolToBeRemovedIndex" class="anchor-marker"></span><h4 class="name">poolToBeRemovedIndex</h4><div class="body"><code class="signature">function <strong>poolToBeRemovedIndex</strong><span>(address _stakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the pool&#x27;s index in the array returned by the `getPoolsToBeRemoved` getter. Used by the `_deletePoolToBeRemoved` function.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>If the returned value is zero, it may mean the array doesn&#x27;t contain the address. Check the address is in the array using the `getPoolsToBeRemoved` getter.</dd></dl></div></div></li><li><div class="item function"><span id="removeMyPool" class="anchor-marker"></span><h4 class="name">removeMyPool</h4><div class="body"><code class="signature">function <strong>removeMyPool</strong><span>() </span><span>external </span></code><hr/><div class="description"><p>Removes the candidate&#x27;s or validator&#x27;s pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). When a candidate or validator wants to remove their pool, they should call this function from their staking address. A validator cannot remove their pool while they are an `unremovable validator`.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd></dl></div></div></li><li><div class="item function"><span id="removePool" class="anchor-marker"></span><h4 class="name">removePool</h4><div class="body"><code class="signature">function <strong>removePool</strong><span>(address _stakingAddress) </span><span>external </span></code><hr/><div class="description"><p>Removes a specified pool from the `pools` array (a list of active pools which can be retrieved by the `getPools` getter). Called by the `ValidatorSet._removeMaliciousValidator` or the `ValidatorSet._newValidatorSet` function when a pool must be removed by the algorithm.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#onlyValidatorSetContract">onlyValidatorSetContract </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_stakingAddress</code> - The staking address of the pool to be removed.</div></dd></dl></div></div></li><li><div class="item function"><span id="setCandidateMinStake" class="anchor-marker"></span><h4 class="name">setCandidateMinStake</h4><div class="body"><code class="signature">function <strong>setCandidateMinStake</strong><span>(uint256 _minStake) </span><span>external </span></code><hr/><div class="description"><p>Sets (updates) the limit of the minimum candidate stake (CANDIDATE_MIN_STAKE). Can only be called by the `owner`.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="eternal-storage_OwnedEternalStorage.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_minStake</code> - The value of a new limit in STAKE_UNITs.</div></dd></dl></div></div></li><li><div class="item function"><span id="setDelegatorMinStake" class="anchor-marker"></span><h4 class="name">setDelegatorMinStake</h4><div class="body"><code class="signature">function <strong>setDelegatorMinStake</strong><span>(uint256 _minStake) </span><span>external </span></code><hr/><div class="description"><p>Sets (updates) the limit of minimum delegator stake (DELEGATOR_MIN_STAKE). Can only be called by the `owner`.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="eternal-storage_OwnedEternalStorage.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_minStake</code> - The value of a new limit in STAKE_UNITs.</div></dd></dl></div></div></li><li><div class="item function"><span id="setErc20TokenContract" class="anchor-marker"></span><h4 class="name">setErc20TokenContract</h4><div class="body"><code class="signature">function <strong>setErc20TokenContract</strong><span>(address _erc20TokenContract) </span><span>external </span></code><hr/><div class="description"><p>Sets (updates) the address of the ERC20/ERC677 staking token contract. Can only be called by the `owner`. Cannot be called if there was at least one stake in native coins before.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="eternal-storage_OwnedEternalStorage.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_erc20TokenContract</code> - The address of the contract.</div></dd></dl></div></div></li><li><div class="item function"><span id="stake" class="anchor-marker"></span><h4 class="name">stake</h4><div class="body"><code class="signature">function <strong>stake</strong><span>(address _toPoolStakingAddress, uint256 _amount) </span><span>external </span></code><hr/><div class="description"><p>Moves the specified amount of staking tokens from the staker&#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_toPoolStakingAddress</code> - The staking address of the pool where the tokens should be staked.</div><div><code>_amount</code> - The amount of tokens to be staked.</div></dd></dl></div></div></li><li><div class="item function"><span id="stakeAmount" class="anchor-marker"></span><h4 class="name">stakeAmount</h4><div class="body"><code class="signature">function <strong>stakeAmount</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker. Doesn&#x27;t take into account the ordered amount to be withdrawn (use the `stakeAmountMinusOrderedWithdraw` instead).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_staker</code> - The staker&#x27;s address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="stakeAmountByCurrentEpoch" class="anchor-marker"></span><h4 class="name">stakeAmountByCurrentEpoch</h4><div class="body"><code class="signature">function <strong>stakeAmountByCurrentEpoch</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the amount of staking tokens/coins staked into the specified pool by the specified staker during the current staking epoch (see the `stakingEpoch` getter). Used by the `stake`, `withdraw`, and `orderWithdraw` functions.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_staker</code> - The staker&#x27;s address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="stakeAmountMinusOrderedWithdraw" class="anchor-marker"></span><h4 class="name">stakeAmountMinusOrderedWithdraw</h4><div class="body"><code class="signature">function <strong>stakeAmountMinusOrderedWithdraw</strong><span>(address _poolStakingAddress, address _staker) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the amount of staking tokens/coins currently staked into the specified pool by the specified staker taking into account the ordered amount to be withdrawn. See also the `stakeAmount` and `orderedWithdrawAmount`.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div><div><code>_staker</code> - The staker&#x27;s address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="stakeAmountTotal" class="anchor-marker"></span><h4 class="name">stakeAmountTotal</h4><div class="body"><code class="signature">function <strong>stakeAmountTotal</strong><span>(address _poolStakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the total amount of staking tokens/coins currently staked into the specified pool. Doesn&#x27;t take into account the ordered amounts to be withdrawn (use the `stakeAmountTotalMinusOrderedWithdraw` instead).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="stakeAmountTotalMinusOrderedWithdraw" class="anchor-marker"></span><h4 class="name">stakeAmountTotalMinusOrderedWithdraw</h4><div class="body"><code class="signature">function <strong>stakeAmountTotalMinusOrderedWithdraw</strong><span>(address _poolStakingAddress) </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the total amount of staking tokens/coins currently staked into the specified pool taking into account the ordered amounts to be withdrawn. See also the `stakeAmountTotal` and `orderedWithdrawAmountTotal` getters.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_poolStakingAddress</code> - The pool staking address.</div></dd><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="stakeNative" class="anchor-marker"></span><h4 class="name">stakeNative</h4><div class="body"><code class="signature">function <strong>stakeNative</strong><span>(address _toPoolStakingAddress) </span><span>external </span><span>payable </span></code><hr/><div class="description"><p>Receives the staking coins from the staker&#x27;s address to the staking address of the specified pool. A staker calls this function when they want to make a stake into a pool.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_toPoolStakingAddress</code> - The staking address of the pool where the coins should be staked.</div></dd></dl></div></div></li><li><div class="item function"><span id="stakingEpoch" class="anchor-marker"></span><h4 class="name">stakingEpoch</h4><div class="body"><code class="signature">function <strong>stakingEpoch</strong><span>() </span><span>public </span><span>view </span><span>returns  (uint256) </span></code><hr/><div class="description"><p>Returns the serial number of the current staking epoch.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>uint256</dd></dl></div></div></li><li><div class="item function"><span id="validatorSetContract" class="anchor-marker"></span><h4 class="name">validatorSetContract</h4><div class="body"><code class="signature">function <strong>validatorSetContract</strong><span>() </span><span>public </span><span>view </span><span>returns  (IValidatorSet) </span></code><hr/><div class="description"><p>Returns the address of the `ValidatorSet` contract.</p></div><dl><dt><span class="label-return">Returns:</span></dt><dd>IValidatorSet</dd></dl></div></div></li><li><div class="item function"><span id="withdraw" class="anchor-marker"></span><h4 class="name">withdraw</h4><div class="body"><code class="signature">function <strong>withdraw</strong><span>(address _fromPoolStakingAddress, uint256 _amount) </span><span>external </span></code><hr/><div class="description"><p>Moves the specified amount of staking tokens/coins from the staking address of the specified pool to the staker&#x27;s address. A staker calls this function when they want to withdraw their tokens/coins.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="abstracts_StakingBase.html#gasPriceIsValid">gasPriceIsValid </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_fromPoolStakingAddress</code> - The staking address of the pool from which the tokens/coins should be withdrawn.</div><div><code>_amount</code> - The amount of tokens/coins to be withdrawn. The amount cannot exceed the value returned by the `maxWithdrawAllowed` getter.</div></dd></dl></div></div></li></ul></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/posdao-contracts/docs/abstracts_RandomBase.html"><span class="arrow-prev">â </span><span class="function-name-prevnext">RandomBase</span></a><a class="docs-next button" href="/posdao-contracts/docs/abstracts_ValidatorSetBase.html"><span class="function-name-prevnext">ValidatorSetBase</span><span class="arrow-next"> â</span></a></div></div></div></div></div></body></html>